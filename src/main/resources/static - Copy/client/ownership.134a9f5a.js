import{S as a,i as e,s as t,e as r,t as s,c as o,b as l,d as c,f as n,k as i,l as d,n as f,a as h,g as v,h as u,m,o as p,G as E,z as g,A as b,B as I,j as y,D as _,E as O,W as T,v as x,w as N,Q as D,F as w,X as S}from"./index.e5c655c7.js";import{l as P,c as B}from"./create.bcc8dfec.js";import{N as V,s as $,d as j}from"./index.02e345fc.js";import"./_commonjsHelpers.fffabd3b.js";import{C as L}from"./js.cookie.7f372dc7.js";import{j as A}from"./jquery.dc1d5bd8.js";import{parent as C,baseUrl as R}from"./fetchdata.81784280.js";import{L as k,p as U}from"./index.9bb96efd.js";const{document:H}=S;function F(a,e,t){const r=a.slice();return r[14]=e[t],r}function z(a,e,t){const r=a.slice();return r[14]=e[t],r}function M(a){let e,t,h,v=a[14].type_name+"";return{c(){e=r("option"),t=s(v),this.h()},l(a){e=o(a,"OPTION",{value:!0});var r=l(e);t=c(r,v),r.forEach(n),this.h()},h(){e.__value=h=a[14].id,e.value=e.__value},m(a,r){i(a,e,r),d(e,t)},p:f,d(a){a&&n(e)}}}function W(a){let e,t,f,g,b,I,y,_,O,T,x,N,D,w,S,P,B,V,$=a[14].id+"",j=a[14].code+"",L=a[14].name+"";function A(...e){return a[10](a[14],...e)}function C(...e){return a[11](a[14],...e)}return{c(){e=r("tr"),t=r("td"),f=s($),g=h(),b=r("td"),I=s(j),y=h(),_=r("td"),O=s(L),T=h(),x=r("td"),N=r("a"),D=r("span"),w=h(),S=r("a"),P=r("span"),B=h(),this.h()},l(a){e=o(a,"TR",{});var r=l(e);t=o(r,"TD",{});var s=l(t);f=c(s,$),s.forEach(n),g=v(r),b=o(r,"TD",{});var i=l(b);I=c(i,j),i.forEach(n),y=v(r),_=o(r,"TD",{});var d=l(_);O=c(d,L),d.forEach(n),T=v(r),x=o(r,"TD",{});var h=l(x);N=o(h,"A",{class:!0,href:!0});var u=l(N);D=o(u,"SPAN",{class:!0}),l(D).forEach(n),u.forEach(n),w=v(h),S=o(h,"A",{class:!0,href:!0});var m=l(S);P=o(m,"SPAN",{class:!0}),l(P).forEach(n),m.forEach(n),B=v(h),h.forEach(n),r.forEach(n),this.h()},h(){u(D,"class","glyphicon glyphicon-edit"),u(N,"class","btn btn-info"),u(N,"href","javascript:void(0)"),u(P,"class","glyphicon glyphicon-trash"),u(S,"class","btn btn-danger"),u(S,"href","javascript:void(0)")},m(a,r){i(a,e,r),d(e,t),d(t,f),d(e,g),d(e,b),d(b,I),d(e,y),d(e,_),d(_,O),d(e,T),d(e,x),d(x,N),d(N,D),d(x,w),d(x,S),d(S,P),d(x,B),V=[m(N,"click",A),m(S,"click",C)]},p(e,t){a=e,4&t&&$!==($=a[14].id+"")&&p(f,$),4&t&&j!==(j=a[14].code+"")&&p(I,j),4&t&&L!==(L=a[14].name+"")&&p(O,L)},d(a){a&&n(e),E(V)}}}function q(a){let e,t,f,p,S,P,B,$,j,L,A,R,U,q,K,Q,X,J,Y,Z,aa,ea,ta,ra,sa,oa,la,ca,na,ia,da,fa,ha,va,ua,ma,pa,Ea,ga,ba,Ia,ya,_a,Oa,Ta,xa,Na,Da,wa,Sa,Pa,Ba,Va,$a,ja,La,Aa,Ca,Ra,ka,Ua,Ha,Fa,za,Ma,Wa,qa,Ga,Ka,Qa,Xa,Ja,Ya,Za,ae,ee,te,re,se,oe,le,ce,ne,ie,de,fe,he,ve,ue,me,pe,Ee,ge,be,Ie,ye,_e,Oe,Te,xe,Ne,De,we,Se,Pe,Be,Ve,$e,je,Le,Ae,Ce,Re,ke,Ue=C,He=[];for(let e=0;e<Ue.length;e+=1)He[e]=M(z(a,Ue,e));const Fe=new V({});let ze=a[2],Me=[];for(let e=0;e<ze.length;e+=1)Me[e]=W(F(a,ze,e));const We=new k({props:{totalItems:a[0].length,pageSize:G,currentPage:a[1],limit:1,showStepOptions:!0}});return We.$on("setPage",a[12]),{c(){e=r("link"),t=h(),f=r("div"),p=r("div"),S=r("div"),P=r("div"),B=r("h3"),$=s("Create Ownership"),j=h(),L=r("form"),A=r("input"),R=h(),U=r("div"),q=r("div"),K=r("label"),Q=s("Parent Ownership"),X=h(),J=r("select"),Y=r("option"),Z=s("Select One..");for(let a=0;a<He.length;a+=1)He[a].c();aa=h(),ea=r("div"),ta=r("label"),ra=s("Code"),sa=h(),oa=r("input"),la=h(),ca=r("div"),na=r("label"),ia=s("Name"),da=h(),fa=r("input"),ha=h(),va=r("div"),ua=r("label"),ma=s("Status"),pa=h(),Ea=r("select"),ga=r("option"),ba=s("Select One.."),Ia=r("option"),ya=s("Enabled"),_a=r("option"),Oa=s("Disabled"),Ta=r("option"),xa=s("Expired"),Na=h(),Da=r("div"),wa=r("button"),Sa=s("Submit"),Pa=h(),Ba=r("button"),Va=s("Reset"),$a=h(),g(Fe.$$.fragment),ja=h(),La=r("div"),Aa=r("div"),Ca=r("h3"),Ra=s("List of Ownership"),ka=h(),Ua=r("div"),Ha=r("button"),Fa=r("i"),za=h(),Ma=r("button"),Wa=r("i"),qa=h(),Ga=r("div"),Ka=r("div"),Qa=r("div"),Xa=r("form"),Ja=r("b"),Ya=s("SHOW"),Za=h(),ae=r("select"),ee=r("option"),te=s("10"),re=r("option"),se=s("20"),oe=r("option"),le=s("100"),ce=h(),ne=r("b"),ie=s("ENTRIES"),de=h(),fe=r("div"),he=r("form"),ve=r("input"),ue=h(),me=r("button"),pe=s("Search"),Ee=h(),ge=r("br"),be=r("br"),Ie=h(),ye=r("div"),_e=r("table"),Oe=r("tr"),Te=r("th"),xe=s("ID"),Ne=h(),De=r("th"),we=s("Code"),Se=h(),Pe=r("th"),Be=s("Name"),Ve=h(),$e=r("th"),je=s("ACTIONS"),Le=h();for(let a=0;a<Me.length;a+=1)Me[a].c();Ae=h(),Ce=r("div"),g(We.$$.fragment),this.h()},l(a){const r=b('[data-svelte="svelte-gzyv7l"]',H.head);e=o(r,"LINK",{rel:!0,href:!0}),r.forEach(n),t=v(a),f=o(a,"DIV",{class:!0});var s=l(f);p=o(s,"DIV",{class:!0});var i=l(p);S=o(i,"DIV",{class:!0});var d=l(S);P=o(d,"DIV",{class:!0});var h=l(P);B=o(h,"H3",{class:!0});var u=l(B);$=c(u,"Create Ownership"),u.forEach(n),h.forEach(n),j=v(d),L=o(d,"FORM",{role:!0,id:!0});var m=l(L);A=o(m,"INPUT",{type:!0,value:!0,name:!0,id:!0}),R=v(m),U=o(m,"DIV",{class:!0});var E=l(U);q=o(E,"DIV",{class:!0});var g=l(q);K=o(g,"LABEL",{for:!0});var y=l(K);Q=c(y,"Parent Ownership"),y.forEach(n),X=v(g),J=o(g,"SELECT",{class:!0,id:!0,name:!0});var _=l(J);Y=o(_,"OPTION",{value:!0});var O=l(Y);Z=c(O,"Select One.."),O.forEach(n);for(let a=0;a<He.length;a+=1)He[a].l(_);_.forEach(n),g.forEach(n),aa=v(E),ea=o(E,"DIV",{class:!0});var T=l(ea);ta=o(T,"LABEL",{for:!0});var x=l(ta);ra=c(x,"Code"),x.forEach(n),sa=v(T),oa=o(T,"INPUT",{type:!0,name:!0,id:!0,class:!0,value:!0}),T.forEach(n),la=v(E),ca=o(E,"DIV",{class:!0});var N=l(ca);na=o(N,"LABEL",{for:!0});var D=l(na);ia=c(D,"Name"),D.forEach(n),da=v(N),fa=o(N,"INPUT",{type:!0,name:!0,id:!0,class:!0}),N.forEach(n),ha=v(E),va=o(E,"DIV",{class:!0});var w=l(va);ua=o(w,"LABEL",{for:!0});var V=l(ua);ma=c(V,"Status"),V.forEach(n),pa=v(w),Ea=o(w,"SELECT",{class:!0,id:!0,name:!0});var C=l(Ea);ga=o(C,"OPTION",{value:!0});var k=l(ga);ba=c(k,"Select One.."),k.forEach(n),Ia=o(C,"OPTION",{value:!0});var F=l(Ia);ya=c(F,"Enabled"),F.forEach(n),_a=o(C,"OPTION",{value:!0});var z=l(_a);Oa=c(z,"Disabled"),z.forEach(n),Ta=o(C,"OPTION",{value:!0});var M=l(Ta);xa=c(M,"Expired"),M.forEach(n),C.forEach(n),w.forEach(n),Na=v(E),Da=o(E,"DIV",{class:!0});var W=l(Da);wa=o(W,"BUTTON",{type:!0,class:!0});var G=l(wa);Sa=c(G,"Submit"),G.forEach(n),Pa=v(W),Ba=o(W,"BUTTON",{type:!0,onClick:!0,class:!0});var Re=l(Ba);Va=c(Re,"Reset"),Re.forEach(n),$a=v(W),I(Fe.$$.fragment,W),W.forEach(n),E.forEach(n),m.forEach(n),d.forEach(n),i.forEach(n),ja=v(s),La=o(s,"DIV",{class:!0});var ke=l(La);Aa=o(ke,"DIV",{class:!0});var Ue=l(Aa);Ca=o(Ue,"H3",{class:!0});var ze=l(Ca);Ra=c(ze,"List of Ownership"),ze.forEach(n),ka=v(Ue),Ua=o(Ue,"DIV",{class:!0});var qe=l(Ua);Ha=o(qe,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var Ge=l(Ha);Fa=o(Ge,"I",{class:!0}),l(Fa).forEach(n),Ge.forEach(n),za=v(qe),Ma=o(qe,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var Ke=l(Ma);Wa=o(Ke,"I",{class:!0}),l(Wa).forEach(n),Ke.forEach(n),qe.forEach(n),Ue.forEach(n),qa=v(ke),Ga=o(ke,"DIV",{id:!0,class:!0});var Qe=l(Ga);Ka=o(Qe,"DIV",{class:!0});var Xe=l(Ka);Qa=o(Xe,"DIV",{class:!0});var Je=l(Qa);Xa=o(Je,"FORM",{id:!0});var Ye=l(Xa);Ja=o(Ye,"B",{});var Ze=l(Ja);Ya=c(Ze,"SHOW"),Ze.forEach(n),Za=v(Ye),ae=o(Ye,"SELECT",{id:!0});var at=l(ae);ee=o(at,"OPTION",{value:!0});var et=l(ee);te=c(et,"10"),et.forEach(n),re=o(at,"OPTION",{value:!0});var tt=l(re);se=c(tt,"20"),tt.forEach(n),oe=o(at,"OPTION",{value:!0});var rt=l(oe);le=c(rt,"100"),rt.forEach(n),at.forEach(n),ce=v(Ye),ne=o(Ye,"B",{});var st=l(ne);ie=c(st,"ENTRIES"),st.forEach(n),Ye.forEach(n),Je.forEach(n),de=v(Xe),fe=o(Xe,"DIV",{style:!0});var ot=l(fe);he=o(ot,"FORM",{id:!0,name:!0});var lt=l(he);ve=o(lt,"INPUT",{id:!0,placeholder:!0,type:!0,name:!0}),ue=v(lt),me=o(lt,"BUTTON",{type:!0,id:!0,name:!0});var ct=l(me);pe=c(ct,"Search"),ct.forEach(n),lt.forEach(n),ot.forEach(n),Ee=v(Xe),Xe.forEach(n),ge=o(Qe,"BR",{}),be=o(Qe,"BR",{}),Ie=v(Qe),ye=o(Qe,"DIV",{id:!0,class:!0});var nt=l(ye);_e=o(nt,"TABLE",{id:!0,class:!0});var it=l(_e);Oe=o(it,"TR",{});var dt=l(Oe);Te=o(dt,"TH",{});var ft=l(Te);xe=c(ft,"ID"),ft.forEach(n),Ne=v(dt),De=o(dt,"TH",{});var ht=l(De);we=c(ht,"Code"),ht.forEach(n),Se=v(dt),Pe=o(dt,"TH",{});var vt=l(Pe);Be=c(vt,"Name"),vt.forEach(n),Ve=v(dt),$e=o(dt,"TH",{});var ut=l($e);je=c(ut,"ACTIONS"),ut.forEach(n),dt.forEach(n),Le=v(it);for(let a=0;a<Me.length;a+=1)Me[a].l(it);it.forEach(n),Ae=v(nt),Ce=o(nt,"DIV",{});var mt=l(Ce);I(We.$$.fragment,mt),mt.forEach(n),nt.forEach(n),Qe.forEach(n),ke.forEach(n),s.forEach(n),this.h()},h(){H.title="Ownership",u(e,"rel","stylesheet"),u(e,"href","https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),u(B,"class","box-title"),u(P,"class","box-header with-border"),u(A,"type","hidden"),A.value="",u(A,"name","id"),u(A,"id","id"),u(K,"for","exampleInputEmail1"),Y.__value="",Y.value=Y.__value,u(J,"class","form-control"),u(J,"id","parent_id"),u(J,"name","parent_id"),u(q,"class","form-group"),u(ta,"for","exampleInputEmail1"),u(oa,"type","text"),u(oa,"name","code"),u(oa,"id","code"),u(oa,"class","form-control"),oa.value="",u(ea,"class","form-group"),u(na,"for","exampleInputEmail1"),u(fa,"type","text"),u(fa,"name","name"),u(fa,"id","name"),u(fa,"class","form-control"),u(ca,"class","form-group"),u(ua,"for","exampleInputEmail1"),ga.__value="",ga.value=ga.__value,Ia.__value="1",Ia.value=Ia.__value,_a.__value="2",_a.value=_a.__value,Ta.__value="3",Ta.value=Ta.__value,u(Ea,"class","form-control"),u(Ea,"id","status"),u(Ea,"name","status"),u(va,"class","form-group"),u(wa,"type","submit"),u(wa,"class","btn btn-primary"),u(Ba,"type","reset"),u(Ba,"onclick","resetForm()"),u(Ba,"class","btn btn-info pull-right"),u(Da,"class","box-footer"),u(U,"class","box-body"),u(L,"role","form"),u(L,"id","form"),u(S,"class","box box-primary"),u(p,"class","col-md-6"),u(Ca,"class","box-title"),u(Fa,"class","fa fa-minus"),u(Ha,"type","button"),u(Ha,"class","btn btn-box-tool"),u(Ha,"data-widget","collapse"),u(Ha,"data-toggle","tooltip"),u(Ha,"title","Collapse"),u(Wa,"class","fa fa-times"),u(Ma,"type","button"),u(Ma,"class","btn btn-box-tool"),u(Ma,"data-widget","remove"),u(Ma,"data-toggle","tooltip"),u(Ma,"title","Remove"),u(Ua,"class","box-tools pull-right"),u(Aa,"class","box-header with-border"),ee.__value="10",ee.value=ee.__value,re.__value="20",re.value=re.__value,oe.__value="100",oe.value=oe.__value,u(ae,"id","selectentry"),u(Xa,"id","tableform"),u(Qa,"class","pull-left"),u(ve,"id","searchfill"),u(ve,"placeholder"," search here"),u(ve,"type","text"),u(ve,"name","search"),u(me,"type","submit"),u(me,"id","searchbtn"),u(me,"name","submit"),u(he,"id","srch"),u(he,"name","srch"),y(fe,"float","right"),u(Ka,"class","mb10"),u(_e,"id","admtype-table"),u(_e,"class","table table-striped table-bordered"),u(ye,"id","showtable"),u(ye,"class","box-body"),u(Ga,"id","table"),u(Ga,"class","box-body"),u(La,"class","box col-md-6"),u(f,"class","row col-md-12")},m(r,s){d(H.head,e),i(r,t,s),i(r,f,s),d(f,p),d(p,S),d(S,P),d(P,B),d(B,$),d(S,j),d(S,L),d(L,A),d(L,R),d(L,U),d(U,q),d(q,K),d(K,Q),d(q,X),d(q,J),d(J,Y),d(Y,Z);for(let a=0;a<He.length;a+=1)He[a].m(J,null);d(U,aa),d(U,ea),d(ea,ta),d(ta,ra),d(ea,sa),d(ea,oa),d(U,la),d(U,ca),d(ca,na),d(na,ia),d(ca,da),d(ca,fa),d(U,ha),d(U,va),d(va,ua),d(ua,ma),d(va,pa),d(va,Ea),d(Ea,ga),d(ga,ba),d(Ea,Ia),d(Ia,ya),d(Ea,_a),d(_a,Oa),d(Ea,Ta),d(Ta,xa),d(U,Na),d(U,Da),d(Da,wa),d(wa,Sa),d(Da,Pa),d(Da,Ba),d(Ba,Va),d(Da,$a),_(Fe,Da,null),d(f,ja),d(f,La),d(La,Aa),d(Aa,Ca),d(Ca,Ra),d(Aa,ka),d(Aa,Ua),d(Ua,Ha),d(Ha,Fa),d(Ua,za),d(Ua,Ma),d(Ma,Wa),d(La,qa),d(La,Ga),d(Ga,Ka),d(Ka,Qa),d(Qa,Xa),d(Xa,Ja),d(Ja,Ya),d(Xa,Za),d(Xa,ae),d(ae,ee),d(ee,te),d(ae,re),d(re,se),d(ae,oe),d(oe,le),d(Xa,ce),d(Xa,ne),d(ne,ie),d(Ka,de),d(Ka,fe),d(fe,he),d(he,ve),d(he,ue),d(he,me),d(me,pe),d(Ka,Ee),d(Ga,ge),d(Ga,be),d(Ga,Ie),d(Ga,ye),d(ye,_e),d(_e,Oe),d(Oe,Te),d(Te,xe),d(Oe,Ne),d(Oe,De),d(De,we),d(Oe,Se),d(Oe,Pe),d(Pe,Be),d(Oe,Ve),d(Oe,$e),d($e,je),d(_e,Le);for(let a=0;a<Me.length;a+=1)Me[a].m(_e,null);d(ye,Ae),d(ye,Ce),_(We,Ce,null),Re=!0,ke=[m(L,"submit",O(a[4])),m(ae,"change",O((function(){T(a[3]({currentPage:a[1]}))&&a[3]({currentPage:a[1]}).apply(this,arguments)}))),m(he,"submit",O((function(){T(a[3]({currentPage:a[1]}))&&a[3]({currentPage:a[1]}).apply(this,arguments)}))),m(ye,"click",a[13])]},p(e,[t]){if(a=e,0&t){let e;for(Ue=C,e=0;e<Ue.length;e+=1){const r=z(a,Ue,e);He[e]?He[e].p(r,t):(He[e]=M(r),He[e].c(),He[e].m(J,null))}for(;e<He.length;e+=1)He[e].d(1);He.length=Ue.length}if(100&t){let e;for(ze=a[2],e=0;e<ze.length;e+=1){const r=F(a,ze,e);Me[e]?Me[e].p(r,t):(Me[e]=W(r),Me[e].c(),Me[e].m(_e,null))}for(;e<Me.length;e+=1)Me[e].d(1);Me.length=ze.length}const r={};1&t&&(r.totalItems=a[0].length),2&t&&(r.currentPage=a[1]),We.$set(r)},i(a){Re||(x(Fe.$$.fragment,a),x(We.$$.fragment,a),Re=!0)},o(a){N(Fe.$$.fragment,a),N(We.$$.fragment,a),Re=!1},d(a){n(e),a&&n(t),a&&n(f),D(He,a),w(Fe),D(Me,a),w(We),E(ke)}}}let G=10;function K(a,e,t){let r=R+"/ownership",s=L.get("token"),o=[],l=[],c=1;function n(){var a=A("#searchfill").val()||"";A("#selectentry").val();let e=r+"/list?search="+a;(async()=>{const a=await P(e,s);200==a.status?(o=await a.json(),t(0,l=o),t(2,f=U({items:l,pageSize:G,currentPage:c})),console.log(f),console.log(o)):(alert("session is expired please Login Again"),L.remove("token"),L.remove("username"),L.remove("role"),L.remove("province"),L.remove("district"),L.remove("municipality"),window.location.replace("."))})()}function i(a){confirm("Are you sure you want to delete?")}function d(a){let e=[];(async()=>{const t=await fetch(r+"/edit/"+a);e=await t.json(),document.getElementById("id").value=e.id,document.getElementById("parent_id").value=e.parent_id,document.getElementById("code").value=e.code,document.getElementById("name").value=e.name,document.getElementById("status").value=e.status})()}n();let f;return t(2,f=[]),[l,c,f,n,function(a){let e,t;a.preventDefault();var o=document.getElementById("id").value,l=document.getElementById("parent_id").value,c=document.getElementById("code").value,i=document.getElementById("name").value,d=document.getElementById("status").value;""==o?(e=r+"/create",t="POST"):(e=r+"/update/"+o,t="PUT");let f={parent_id:l,code:c,name:i,status:d};console.log(f),(async()=>{const a=await B(e,t,f,s);console.log(a),200==a.status?($("Item Saved Successfully"),A("#id").val(""),A("#form")[0].reset()):j("Failed to save data"),n()})()},i,d,o,r,s,(a,e)=>d(a.id),(a,e)=>i(a.id),a=>t(1,c=a.detail.page),()=>n()]}export default class extends a{constructor(a){super(),e(this,a,K,q,t,{})}}
