import{S as a,i as t,s as e,e as s,t as r,a as o,c as l,b as c,d as i,f as n,g as d,k as h,l as f,o as u,h as m,m as v,G as p,z as b,A as E,B as g,j as T,D as y,E as I,W as D,v as w,w as j,Q as P,F as S}from"./index.6832dad2.js";import{s as x,d as O}from"./index.9158f9e3.js";import{C as N,j as U}from"./jquery.923a77c3.js";import{a as B}from"./create.cc1894b6.js";import{baseUrl as _}from"./fetchdata.e02faaf8.js";import{L as A,p as R}from"./index.5ddcc576.js";function H(a,t,e){const s=a.slice();return s[16]=t[e],s}function k(a){let t,e,u,b,E,g;function T(...t){return a[10](a[16],...t)}function y(...t){return a[11](a[16],...t)}return{c(){t=s("button"),e=r("Enable"),u=o(),b=s("button"),E=r("Disabled"),this.h()},l(a){t=l(a,"BUTTON",{class:!0,href:!0});var s=c(t);e=i(s,"Enable"),s.forEach(n),u=d(a),b=l(a,"BUTTON",{class:!0,disabled:!0,href:!0});var r=c(b);E=i(r,"Disabled"),r.forEach(n),this.h()},h(){m(t,"class","btn btn-success"),m(t,"href","javascript:void(0)"),m(b,"class","btn btn-danger"),b.disabled=!0,m(b,"href","javascript:void(0)")},m(a,s){h(a,t,s),f(t,e),h(a,u,s),h(a,b,s),f(b,E),g=[v(t,"click",T),v(b,"click",y)]},p(t,e){a=t},d(a){a&&n(t),a&&n(u),a&&n(b),p(g)}}}function F(a){let t,e,u,b,E,g;function T(...t){return a[12](a[16],...t)}function y(...t){return a[13](a[16],...t)}return{c(){t=s("button"),e=r("Enabled"),u=o(),b=s("button"),E=r("Disable"),this.h()},l(a){t=l(a,"BUTTON",{class:!0,disabled:!0,href:!0});var s=c(t);e=i(s,"Enabled"),s.forEach(n),u=d(a),b=l(a,"BUTTON",{class:!0,href:!0});var r=c(b);E=i(r,"Disable"),r.forEach(n),this.h()},h(){m(t,"class","btn btn-success"),t.disabled=!0,m(t,"href","javascript:void(0)"),m(b,"class","btn btn-danger"),m(b,"href","javascript:void(0)")},m(a,s){h(a,t,s),f(t,e),h(a,u,s),h(a,b,s),f(b,E),g=[v(t,"click",T),v(b,"click",y)]},p(t,e){a=t},d(a){a&&n(t),a&&n(u),a&&n(b),p(g)}}}function V(a){let t,e,m,v,p,b,E,g,T,y,I,D,w,j,P,S,x,O,N,U,B,_=a[16].id+"",A=a[16].fullname+"",R=a[16].email+"",H=a[16].address+"",V=a[16].designation+"",$=a[16].phone+"",L=0==a[16].status&&k(a),C=1==a[16].status&&F(a);return{c(){t=s("tr"),e=s("td"),m=r(_),v=o(),p=s("td"),b=r(A),E=o(),g=s("td"),T=r(R),y=o(),I=s("td"),D=r(H),w=o(),j=s("td"),P=r(V),S=o(),x=s("td"),O=r($),N=o(),U=s("td"),L&&L.c(),B=o(),C&&C.c()},l(a){t=l(a,"TR",{});var s=c(t);e=l(s,"TD",{});var r=c(e);m=i(r,_),r.forEach(n),v=d(s),p=l(s,"TD",{});var o=c(p);b=i(o,A),o.forEach(n),E=d(s),g=l(s,"TD",{});var h=c(g);T=i(h,R),h.forEach(n),y=d(s),I=l(s,"TD",{});var f=c(I);D=i(f,H),f.forEach(n),w=d(s),j=l(s,"TD",{});var u=c(j);P=i(u,V),u.forEach(n),S=d(s),x=l(s,"TD",{});var k=c(x);O=i(k,$),k.forEach(n),N=d(s),U=l(s,"TD",{});var F=c(U);L&&L.l(F),B=d(F),C&&C.l(F),F.forEach(n),s.forEach(n)},m(a,s){h(a,t,s),f(t,e),f(e,m),f(t,v),f(t,p),f(p,b),f(t,E),f(t,g),f(g,T),f(t,y),f(t,I),f(I,D),f(t,w),f(t,j),f(j,P),f(t,S),f(t,x),f(x,O),f(t,N),f(t,U),L&&L.m(U,null),f(U,B),C&&C.m(U,null)},p(a,t){4&t&&_!==(_=a[16].id+"")&&u(m,_),4&t&&A!==(A=a[16].fullname+"")&&u(b,A),4&t&&R!==(R=a[16].email+"")&&u(T,R),4&t&&H!==(H=a[16].address+"")&&u(D,H),4&t&&V!==(V=a[16].designation+"")&&u(P,V),4&t&&$!==($=a[16].phone+"")&&u(O,$),0==a[16].status?L?L.p(a,t):(L=k(a),L.c(),L.m(U,B)):L&&(L.d(1),L=null),1==a[16].status?C?C.p(a,t):(C=F(a),C.c(),C.m(U,null)):C&&(C.d(1),C=null)},d(a){a&&n(t),L&&L.d(),C&&C.d()}}}function $(a){let t,e,x,O,N,U,B,_,R,k,F,$,C,W,z,q,M,G,K,Q,J,X,Y,Z,aa,ta,ea,sa,ra,oa,la,ca,ia,na,da,ha,fa,ua,ma,va,pa,ba,Ea,ga,Ta,ya,Ia,Da,wa,ja,Pa,Sa,xa,Oa,Na,Ua,Ba,_a,Aa,Ra,Ha,ka,Fa,Va,$a,La,Ca,Wa,za,qa,Ma,Ga,Ka,Qa,Ja,Xa,Ya,Za,at,tt,et,st,rt,ot,lt,ct=(a[1]-1)*L+1+"",it=(a[1]-1)*L+a[2].length+"",nt=a[0].length+"",dt=a[2],ht=[];for(let t=0;t<dt.length;t+=1)ht[t]=V(H(a,dt,t));const ft=new A({props:{totalItems:a[0].length,pageSize:L,currentPage:a[1],limit:1,showStepOptions:!0}});return ft.$on("setPage",a[14]),{c(){t=s("link"),e=s("script"),O=o(),N=s("div"),U=s("div"),B=s("h3"),_=r("List of API Users"),R=o(),k=s("div"),F=s("button"),$=s("i"),C=o(),W=s("button"),z=s("i"),q=o(),M=s("div"),G=s("div"),K=s("div"),Q=s("form"),J=s("b"),X=r("SHOW"),Y=o(),Z=s("select"),aa=s("option"),ta=r("10"),ea=s("option"),sa=r("20"),ra=s("option"),oa=r("100"),la=o(),ca=s("b"),ia=r("ENTRIES"),na=o(),da=s("div"),ha=s("form"),fa=s("input"),ua=o(),ma=s("button"),va=r("Search"),pa=o(),ba=s("br"),Ea=s("br"),ga=o(),Ta=s("div"),ya=s("table"),Ia=s("tr"),Da=s("th"),wa=r("ID"),ja=o(),Pa=s("th"),Sa=r("Fullname"),xa=o(),Oa=s("th"),Na=r("Email"),Ua=o(),Ba=s("th"),_a=r("Address"),Aa=o(),Ra=s("th"),Ha=r("Designation"),ka=o(),Fa=s("th"),Va=r("Phone"),$a=o(),La=s("th"),Ca=r("ACTIONS(Write Permission)"),Wa=o();for(let a=0;a<ht.length;a+=1)ht[a].c();za=o(),qa=s("div"),Ma=o(),Ga=s("div"),b(ft.$$.fragment),Ka=o(),Qa=s("br"),Ja=s("p"),Xa=s("b"),Ya=r("Showing "),Za=r(ct),at=r(" to "),tt=r(it),et=r("  from total "),st=r(nt),rt=r(" Records."),this.h()},l(a){const s=E('[data-svelte="svelte-17iz5w9"]',document.head);t=l(s,"LINK",{rel:!0,href:!0}),e=l(s,"SCRIPT",{src:!0,integrity:!0,crossorigin:!0}),c(e).forEach(n),s.forEach(n),O=d(a),N=l(a,"DIV",{class:!0});var r=c(N);U=l(r,"DIV",{class:!0});var o=c(U);B=l(o,"H3",{class:!0});var h=c(B);_=i(h,"List of API Users"),h.forEach(n),R=d(o),k=l(o,"DIV",{class:!0});var f=c(k);F=l(f,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var u=c(F);$=l(u,"I",{class:!0}),c($).forEach(n),u.forEach(n),C=d(f),W=l(f,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var m=c(W);z=l(m,"I",{class:!0}),c(z).forEach(n),m.forEach(n),f.forEach(n),o.forEach(n),q=d(r),M=l(r,"DIV",{id:!0,class:!0});var v=c(M);G=l(v,"DIV",{class:!0});var p=c(G);K=l(p,"DIV",{class:!0});var b=c(K);Q=l(b,"FORM",{id:!0});var T=c(Q);J=l(T,"B",{});var y=c(J);X=i(y,"SHOW"),y.forEach(n),Y=d(T),Z=l(T,"SELECT",{id:!0});var I=c(Z);aa=l(I,"OPTION",{value:!0});var D=c(aa);ta=i(D,"10"),D.forEach(n),ea=l(I,"OPTION",{value:!0});var w=c(ea);sa=i(w,"20"),w.forEach(n),ra=l(I,"OPTION",{value:!0});var j=c(ra);oa=i(j,"100"),j.forEach(n),I.forEach(n),la=d(T),ca=l(T,"B",{});var P=c(ca);ia=i(P,"ENTRIES"),P.forEach(n),T.forEach(n),b.forEach(n),na=d(p),da=l(p,"DIV",{style:!0});var S=c(da);ha=l(S,"FORM",{id:!0,name:!0});var x=c(ha);fa=l(x,"INPUT",{id:!0,placeholder:!0,type:!0,name:!0}),ua=d(x),ma=l(x,"BUTTON",{type:!0,id:!0,name:!0});var A=c(ma);va=i(A,"Search"),A.forEach(n),x.forEach(n),S.forEach(n),pa=d(p),p.forEach(n),ba=l(v,"BR",{}),Ea=l(v,"BR",{}),ga=d(v),Ta=l(v,"DIV",{id:!0,class:!0});var H=c(Ta);ya=l(H,"TABLE",{id:!0,class:!0});var V=c(ya);Ia=l(V,"TR",{});var L=c(Ia);Da=l(L,"TH",{});var ot=c(Da);wa=i(ot,"ID"),ot.forEach(n),ja=d(L),Pa=l(L,"TH",{});var lt=c(Pa);Sa=i(lt,"Fullname"),lt.forEach(n),xa=d(L),Oa=l(L,"TH",{});var dt=c(Oa);Na=i(dt,"Email"),dt.forEach(n),Ua=d(L),Ba=l(L,"TH",{});var ut=c(Ba);_a=i(ut,"Address"),ut.forEach(n),Aa=d(L),Ra=l(L,"TH",{});var mt=c(Ra);Ha=i(mt,"Designation"),mt.forEach(n),ka=d(L),Fa=l(L,"TH",{});var vt=c(Fa);Va=i(vt,"Phone"),vt.forEach(n),$a=d(L),La=l(L,"TH",{});var pt=c(La);Ca=i(pt,"ACTIONS(Write Permission)"),pt.forEach(n),L.forEach(n),Wa=d(V);for(let a=0;a<ht.length;a+=1)ht[a].l(V);za=d(V),qa=l(V,"DIV",{id:!0}),c(qa).forEach(n),V.forEach(n),Ma=d(H),Ga=l(H,"DIV",{});var bt=c(Ga);g(ft.$$.fragment,bt),Ka=d(bt),bt.forEach(n),Qa=l(H,"BR",{}),Ja=l(H,"P",{style:!0});var Et=c(Ja);Xa=l(Et,"B",{align:!0});var gt=c(Xa);Ya=i(gt,"Showing "),Za=i(gt,ct),at=i(gt," to "),tt=i(gt,it),et=i(gt,"  from total "),st=i(gt,nt),rt=i(gt," Records."),gt.forEach(n),Et.forEach(n),H.forEach(n),v.forEach(n),r.forEach(n),this.h()},h(){document.title="API List",m(t,"rel","stylesheet"),m(t,"href","https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),e.src!==(x="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js")&&m(e,"src","https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"),m(e,"integrity","sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"),m(e,"crossorigin","anonymous"),m(B,"class","box-title"),m($,"class","fa fa-minus"),m(F,"type","button"),m(F,"class","btn btn-box-tool"),m(F,"data-widget","collapse"),m(F,"data-toggle","tooltip"),m(F,"title","Collapse"),m(z,"class","fa fa-times"),m(W,"type","button"),m(W,"class","btn btn-box-tool"),m(W,"data-widget","remove"),m(W,"data-toggle","tooltip"),m(W,"title","Remove"),m(k,"class","box-tools pull-right"),m(U,"class","box-header with-border"),aa.__value="10",aa.value=aa.__value,ea.__value="20",ea.value=ea.__value,ra.__value="100",ra.value=ra.__value,m(Z,"id","selectentry"),m(Q,"id","tableform"),m(K,"class","pull-left"),m(fa,"id","searchfill"),m(fa,"placeholder"," search here"),m(fa,"type","text"),m(fa,"name","search"),m(ma,"type","submit"),m(ma,"id","searchbtn"),m(ma,"name","submit"),m(ha,"id","srch"),m(ha,"name","srch"),T(da,"float","right"),m(G,"class","mb10"),m(qa,"id","tab1"),m(ya,"id","admtype-table"),m(ya,"class","table table-striped table-bordered"),m(Xa,"align","center"),T(Ja,"text-align","center"),m(Ta,"id","showtable"),m(Ta,"class","box-body"),m(M,"id","table"),m(M,"class","box-body"),m(N,"class","box col-md-12")},m(s,r){f(document.head,t),f(document.head,e),h(s,O,r),h(s,N,r),f(N,U),f(U,B),f(B,_),f(U,R),f(U,k),f(k,F),f(F,$),f(k,C),f(k,W),f(W,z),f(N,q),f(N,M),f(M,G),f(G,K),f(K,Q),f(Q,J),f(J,X),f(Q,Y),f(Q,Z),f(Z,aa),f(aa,ta),f(Z,ea),f(ea,sa),f(Z,ra),f(ra,oa),f(Q,la),f(Q,ca),f(ca,ia),f(G,na),f(G,da),f(da,ha),f(ha,fa),f(ha,ua),f(ha,ma),f(ma,va),f(G,pa),f(M,ba),f(M,Ea),f(M,ga),f(M,Ta),f(Ta,ya),f(ya,Ia),f(Ia,Da),f(Da,wa),f(Ia,ja),f(Ia,Pa),f(Pa,Sa),f(Ia,xa),f(Ia,Oa),f(Oa,Na),f(Ia,Ua),f(Ia,Ba),f(Ba,_a),f(Ia,Aa),f(Ia,Ra),f(Ra,Ha),f(Ia,ka),f(Ia,Fa),f(Fa,Va),f(Ia,$a),f(Ia,La),f(La,Ca),f(ya,Wa);for(let a=0;a<ht.length;a+=1)ht[a].m(ya,null);f(ya,za),f(ya,qa),f(Ta,Ma),f(Ta,Ga),y(ft,Ga,null),f(Ga,Ka),f(Ta,Qa),f(Ta,Ja),f(Ja,Xa),f(Xa,Ya),f(Xa,Za),f(Xa,at),f(Xa,tt),f(Xa,et),f(Xa,st),f(Xa,rt),ot=!0,lt=[v(Z,"change",I(a[3])),v(ha,"submit",I((function(){D(a[3]({currentPage:a[1]}))&&a[3]({currentPage:a[1]}).apply(this,arguments)}))),v(Ta,"click",a[15])]},p(t,[e]){if(a=t,52&e){let t;for(dt=a[2],t=0;t<dt.length;t+=1){const s=H(a,dt,t);ht[t]?ht[t].p(s,e):(ht[t]=V(s),ht[t].c(),ht[t].m(ya,za))}for(;t<ht.length;t+=1)ht[t].d(1);ht.length=dt.length}const s={};1&e&&(s.totalItems=a[0].length),2&e&&(s.currentPage=a[1]),ft.$set(s),(!ot||2&e)&&ct!==(ct=(a[1]-1)*L+1+"")&&u(Za,ct),(!ot||6&e)&&it!==(it=(a[1]-1)*L+a[2].length+"")&&u(tt,it),(!ot||1&e)&&nt!==(nt=a[0].length+"")&&u(st,nt)},i(a){ot||(w(ft.$$.fragment,a),ot=!0)},o(a){j(ft.$$.fragment,a),ot=!1},d(a){n(t),n(e),a&&n(O),a&&n(N),P(ht,a),S(ft),p(lt)}}}let L=10;function C(a,t,e){let s=_+"/health_registry/api_list",r=[],o=1,l=N.get("token");function c(){void 0!==l||window.location.replace(".")}function i(){var a=U("#searchfill").val()||"";U("#selectentry").val();let t=s+"/list?search="+a;(async()=>{const a=await B(t,l);200==a.status?(h=await a.json(),e(0,r=h),e(2,f=R({items:r,pageSize:L,currentPage:o})),console.log(f),console.log(h)):(alert("session is expired please Login Again"),N.remove("token"),N.remove("username"),N.remove("role"),N.remove("province"),N.remove("district"),N.remove("municipality"),window.location.replace("."))})()}function n(a){if(confirm("Are you sure you want to Enable User for Write Permission?")){let t=s+"/enable/"+a,e="PUT";(async()=>{const a=await fetch(t,{method:e});console.log(a),200==a.status?x("User Enabled Successfully !"):O("Failed To Enable User."),i()})()}}function d(a){if(confirm("Are you sure you want to Disable User for Write Permission?")){let t=s+"/disable/"+a,e="PUT";(async()=>{const a=await fetch(t,{method:e});console.log(a),200==a.status?x("User Disabled Successfully !"):O("Failed To Disable USer."),i()})()}}c(),i();let h,f;return h=[],e(2,f=[]),[r,o,f,i,n,d,h,s,l,c,(a,t)=>n(a.id),(a,t)=>d(a.id),(a,t)=>n(a.id),(a,t)=>d(a.id),a=>e(1,o=a.detail.page),()=>i()]}export default class extends a{constructor(a){super(),t(this,a,C,$,e,{})}}
