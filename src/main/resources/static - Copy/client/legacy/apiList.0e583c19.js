import{a,b as t,c as r,d as e,i as n,s,e as o,S as c,f as i,t as l,g as f,h as u,j as d,k as h,l as v,m as p,q as m,r as b,v as g,o as E,u as T,M as y,F as I,G as w,H as x,p as D,J as j,K as P,a2 as S,A as O,B as N,X as U,L as A}from"./index.0c22fd66.js";import{_ as B}from"./slicedToArray.f13a096f.js";import{_ as k,a as _}from"./asyncToGenerator.c4edb546.js";import{l as R}from"./create.ae49f39d.js";import{s as H,d as F}from"./index.33a6d4f8.js";import{C as L}from"./js.cookie.e6b006aa.js";import{j as V}from"./jquery.ca35874e.js";import{baseUrl as $}from"./fetchdata.82d79b56.js";import{L as C,p as W}from"./index.9d3d9637.js";function z(a,t,r){var e=a.slice();return e[16]=t[r],e}function q(a){var t,r,e,n,s,o;function c(){for(var t,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return((t=a)[10].apply(t,[a[16]].concat(e)))}function g(){for(var t,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return((t=a)[11].apply(t,[a[16]].concat(e)))}return{c:function(){t=i("button"),r=l("Enable"),e=f(),n=i("button"),s=l("Disabled"),this.h()},l:function(a){t=u(a,"BUTTON",{class:!0,href:!0});var o=d(t);r=h(o,"Enable"),o.forEach(v),e=p(a),n=u(a,"BUTTON",{class:!0,disabled:!0,href:!0});var c=d(n);s=h(c,"Disabled"),c.forEach(v),this.h()},h:function(){E(t,"class","btn btn-success"),E(t,"href","javascript:void(0)"),E(n,"class","btn btn-danger"),n.disabled=!0,E(n,"href","javascript:void(0)")},m:function(a,i){m(a,t,i),b(t,r),m(a,e,i),m(a,n,i),b(n,s),o=[T(t,"click",c),T(n,"click",g)]},p:function(t,r){a=t},d:function(a){a&&v(t),a&&v(e),a&&v(n),y(o)}}}function M(a){var t,r,e,n,s,o;function c(){for(var t,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return((t=a)[12].apply(t,[a[16]].concat(e)))}function g(){for(var t,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return((t=a)[13].apply(t,[a[16]].concat(e)))}return{c:function(){t=i("button"),r=l("Enabled"),e=f(),n=i("button"),s=l("Disable"),this.h()},l:function(a){t=u(a,"BUTTON",{class:!0,disabled:!0,href:!0});var o=d(t);r=h(o,"Enabled"),o.forEach(v),e=p(a),n=u(a,"BUTTON",{class:!0,href:!0});var c=d(n);s=h(c,"Disable"),c.forEach(v),this.h()},h:function(){E(t,"class","btn btn-success"),t.disabled=!0,E(t,"href","javascript:void(0)"),E(n,"class","btn btn-danger"),E(n,"href","javascript:void(0)")},m:function(a,i){m(a,t,i),b(t,r),m(a,e,i),m(a,n,i),b(n,s),o=[T(t,"click",c),T(n,"click",g)]},p:function(t,r){a=t},d:function(a){a&&v(t),a&&v(e),a&&v(n),y(o)}}}function G(a){var t,r,e,n,s,o,c,E,T,y,I,w,x,D,j,P,S,O,N,U,A,B=a[16].id+"",k=a[16].fullname+"",_=a[16].email+"",R=a[16].address+"",H=a[16].designation+"",F=a[16].phone+"",L=0==a[16].status&&q(a),V=1==a[16].status&&M(a);return{c:function(){t=i("tr"),r=i("td"),e=l(B),n=f(),s=i("td"),o=l(k),c=f(),E=i("td"),T=l(_),y=f(),I=i("td"),w=l(R),x=f(),D=i("td"),j=l(H),P=f(),S=i("td"),O=l(F),N=f(),U=i("td"),L&&L.c(),A=f(),V&&V.c()},l:function(a){t=u(a,"TR",{});var i=d(t);r=u(i,"TD",{});var l=d(r);e=h(l,B),l.forEach(v),n=p(i),s=u(i,"TD",{});var f=d(s);o=h(f,k),f.forEach(v),c=p(i),E=u(i,"TD",{});var m=d(E);T=h(m,_),m.forEach(v),y=p(i),I=u(i,"TD",{});var b=d(I);w=h(b,R),b.forEach(v),x=p(i),D=u(i,"TD",{});var g=d(D);j=h(g,H),g.forEach(v),P=p(i),S=u(i,"TD",{});var $=d(S);O=h($,F),$.forEach(v),N=p(i),U=u(i,"TD",{});var C=d(U);L&&L.l(C),A=p(C),V&&V.l(C),C.forEach(v),i.forEach(v)},m:function(a,i){m(a,t,i),b(t,r),b(r,e),b(t,n),b(t,s),b(s,o),b(t,c),b(t,E),b(E,T),b(t,y),b(t,I),b(I,w),b(t,x),b(t,D),b(D,j),b(t,P),b(t,S),b(S,O),b(t,N),b(t,U),L&&L.m(U,null),b(U,A),V&&V.m(U,null)},p:function(a,t){4&t&&B!==(B=a[16].id+"")&&g(e,B),4&t&&k!==(k=a[16].fullname+"")&&g(o,k),4&t&&_!==(_=a[16].email+"")&&g(T,_),4&t&&R!==(R=a[16].address+"")&&g(w,R),4&t&&H!==(H=a[16].designation+"")&&g(j,H),4&t&&F!==(F=a[16].phone+"")&&g(O,F),0==a[16].status?L?L.p(a,t):((L=q(a)).c(),L.m(U,A)):L&&(L.d(1),L=null),1==a[16].status?V?V.p(a,t):((V=M(a)).c(),V.m(U,null)):V&&(V.d(1),V=null)},d:function(a){a&&v(t),L&&L.d(),V&&V.d()}}}function K(a){for(var t,r,e,n,s,o,c,k,_,R,H,F,L,V,$,W,q,M,K,X,Q,Y,Z,aa,ta,ra,ea,na,sa,oa,ca,ia,la,fa,ua,da,ha,va,pa,ma,ba,ga,Ea,Ta,ya,Ia,wa,xa,Da,ja,Pa,Sa,Oa,Na,Ua,Aa,Ba,ka,_a,Ra,Ha,Fa,La,Va,$a,Ca,Wa,za,qa,Ma,Ga,Ka,Ja,Xa,Qa,Ya,Za,at,tt,rt,et,nt,st,ot,ct=(a[1]-1)*J+1+"",it=(a[1]-1)*J+a[2].length+"",lt=a[0].length+"",ft=a[2],ut=[],dt=0;dt<ft.length;dt+=1)ut[dt]=G(z(a,ft,dt));var ht=new C({props:{totalItems:a[0].length,pageSize:J,currentPage:a[1],limit:1,showStepOptions:!0}});return ht.$on("setPage",a[14]),{c:function(){t=i("link"),r=i("script"),e=f(),n=i("div"),s=i("div"),o=i("h3"),c=l("List of API Users"),k=f(),_=i("div"),R=i("button"),H=i("i"),F=f(),L=i("button"),V=i("i"),$=f(),W=i("div"),q=i("div"),M=i("div"),K=i("form"),X=i("b"),Q=l("SHOW"),Y=f(),Z=i("select"),aa=i("option"),ta=l("10"),ra=i("option"),ea=l("20"),na=i("option"),sa=l("100"),oa=f(),ca=i("b"),ia=l("ENTRIES"),la=f(),fa=i("div"),ua=i("form"),da=i("input"),ha=f(),va=i("button"),pa=l("Search"),ma=f(),ba=i("br"),ga=i("br"),Ea=f(),Ta=i("div"),ya=i("table"),Ia=i("tr"),wa=i("th"),xa=l("ID"),Da=f(),ja=i("th"),Pa=l("Fullname"),Sa=f(),Oa=i("th"),Na=l("Email"),Ua=f(),Aa=i("th"),Ba=l("Address"),ka=f(),_a=i("th"),Ra=l("Designation"),Ha=f(),Fa=i("th"),La=l("Phone"),Va=f(),$a=i("th"),Ca=l("ACTIONS(Write Permission)"),Wa=f();for(var a=0;a<ut.length;a+=1)ut[a].c();za=f(),qa=i("div"),Ma=f(),Ga=i("div"),I(ht.$$.fragment),Ka=f(),Ja=i("br"),Xa=i("p"),Qa=i("b"),Ya=l("Showing "),Za=l(ct),at=l(" to "),tt=l(it),rt=l("  from total "),et=l(lt),nt=l(" Records."),this.h()},l:function(a){var i=w('[data-svelte="svelte-17iz5w9"]',document.head);t=u(i,"LINK",{rel:!0,href:!0}),r=u(i,"SCRIPT",{src:!0,integrity:!0,crossorigin:!0}),d(r).forEach(v),i.forEach(v),e=p(a),n=u(a,"DIV",{class:!0});var l=d(n);s=u(l,"DIV",{class:!0});var f=d(s);o=u(f,"H3",{class:!0});var m=d(o);c=h(m,"List of API Users"),m.forEach(v),k=p(f),_=u(f,"DIV",{class:!0});var b=d(_);R=u(b,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var g=d(R);H=u(g,"I",{class:!0}),d(H).forEach(v),g.forEach(v),F=p(b),L=u(b,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var E=d(L);V=u(E,"I",{class:!0}),d(V).forEach(v),E.forEach(v),b.forEach(v),f.forEach(v),$=p(l),W=u(l,"DIV",{id:!0,class:!0});var T=d(W);q=u(T,"DIV",{class:!0});var y=d(q);M=u(y,"DIV",{class:!0});var I=d(M);K=u(I,"FORM",{id:!0});var D=d(K);X=u(D,"B",{});var j=d(X);Q=h(j,"SHOW"),j.forEach(v),Y=p(D),Z=u(D,"SELECT",{id:!0});var P=d(Z);aa=u(P,"OPTION",{value:!0});var S=d(aa);ta=h(S,"10"),S.forEach(v),ra=u(P,"OPTION",{value:!0});var O=d(ra);ea=h(O,"20"),O.forEach(v),na=u(P,"OPTION",{value:!0});var N=d(na);sa=h(N,"100"),N.forEach(v),P.forEach(v),oa=p(D),ca=u(D,"B",{});var U=d(ca);ia=h(U,"ENTRIES"),U.forEach(v),D.forEach(v),I.forEach(v),la=p(y),fa=u(y,"DIV",{style:!0});var A=d(fa);ua=u(A,"FORM",{id:!0,name:!0});var B=d(ua);da=u(B,"INPUT",{id:!0,placeholder:!0,type:!0,name:!0}),ha=p(B),va=u(B,"BUTTON",{type:!0,id:!0,name:!0});var C=d(va);pa=h(C,"Search"),C.forEach(v),B.forEach(v),A.forEach(v),ma=p(y),y.forEach(v),ba=u(T,"BR",{}),ga=u(T,"BR",{}),Ea=p(T),Ta=u(T,"DIV",{id:!0,class:!0});var z=d(Ta);ya=u(z,"TABLE",{id:!0,class:!0});var G=d(ya);Ia=u(G,"TR",{});var J=d(Ia);wa=u(J,"TH",{});var st=d(wa);xa=h(st,"ID"),st.forEach(v),Da=p(J),ja=u(J,"TH",{});var ot=d(ja);Pa=h(ot,"Fullname"),ot.forEach(v),Sa=p(J),Oa=u(J,"TH",{});var ft=d(Oa);Na=h(ft,"Email"),ft.forEach(v),Ua=p(J),Aa=u(J,"TH",{});var dt=d(Aa);Ba=h(dt,"Address"),dt.forEach(v),ka=p(J),_a=u(J,"TH",{});var vt=d(_a);Ra=h(vt,"Designation"),vt.forEach(v),Ha=p(J),Fa=u(J,"TH",{});var pt=d(Fa);La=h(pt,"Phone"),pt.forEach(v),Va=p(J),$a=u(J,"TH",{});var mt=d($a);Ca=h(mt,"ACTIONS(Write Permission)"),mt.forEach(v),J.forEach(v),Wa=p(G);for(var bt=0;bt<ut.length;bt+=1)ut[bt].l(G);za=p(G),qa=u(G,"DIV",{id:!0}),d(qa).forEach(v),G.forEach(v),Ma=p(z),Ga=u(z,"DIV",{});var gt=d(Ga);x(ht.$$.fragment,gt),Ka=p(gt),gt.forEach(v),Ja=u(z,"BR",{}),Xa=u(z,"P",{style:!0});var Et=d(Xa);Qa=u(Et,"B",{align:!0});var Tt=d(Qa);Ya=h(Tt,"Showing "),Za=h(Tt,ct),at=h(Tt," to "),tt=h(Tt,it),rt=h(Tt,"  from total "),et=h(Tt,lt),nt=h(Tt," Records."),Tt.forEach(v),Et.forEach(v),z.forEach(v),T.forEach(v),l.forEach(v),this.h()},h:function(){document.title="API List",E(t,"rel","stylesheet"),E(t,"href","https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),r.src!=="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"&&E(r,"src","https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"),E(r,"integrity","sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"),E(r,"crossorigin","anonymous"),E(o,"class","box-title"),E(H,"class","fa fa-minus"),E(R,"type","button"),E(R,"class","btn btn-box-tool"),E(R,"data-widget","collapse"),E(R,"data-toggle","tooltip"),E(R,"title","Collapse"),E(V,"class","fa fa-times"),E(L,"type","button"),E(L,"class","btn btn-box-tool"),E(L,"data-widget","remove"),E(L,"data-toggle","tooltip"),E(L,"title","Remove"),E(_,"class","box-tools pull-right"),E(s,"class","box-header with-border"),aa.__value="10",aa.value=aa.__value,ra.__value="20",ra.value=ra.__value,na.__value="100",na.value=na.__value,E(Z,"id","selectentry"),E(K,"id","tableform"),E(M,"class","pull-left"),E(da,"id","searchfill"),E(da,"placeholder"," search here"),E(da,"type","text"),E(da,"name","search"),E(va,"type","submit"),E(va,"id","searchbtn"),E(va,"name","submit"),E(ua,"id","srch"),E(ua,"name","srch"),D(fa,"float","right"),E(q,"class","mb10"),E(qa,"id","tab1"),E(ya,"id","admtype-table"),E(ya,"class","table table-striped table-bordered"),E(Qa,"align","center"),D(Xa,"text-align","center"),E(Ta,"id","showtable"),E(Ta,"class","box-body"),E(W,"id","table"),E(W,"class","box-body"),E(n,"class","box col-md-12")},m:function(i,l){b(document.head,t),b(document.head,r),m(i,e,l),m(i,n,l),b(n,s),b(s,o),b(o,c),b(s,k),b(s,_),b(_,R),b(R,H),b(_,F),b(_,L),b(L,V),b(n,$),b(n,W),b(W,q),b(q,M),b(M,K),b(K,X),b(X,Q),b(K,Y),b(K,Z),b(Z,aa),b(aa,ta),b(Z,ra),b(ra,ea),b(Z,na),b(na,sa),b(K,oa),b(K,ca),b(ca,ia),b(q,la),b(q,fa),b(fa,ua),b(ua,da),b(ua,ha),b(ua,va),b(va,pa),b(q,ma),b(W,ba),b(W,ga),b(W,Ea),b(W,Ta),b(Ta,ya),b(ya,Ia),b(Ia,wa),b(wa,xa),b(Ia,Da),b(Ia,ja),b(ja,Pa),b(Ia,Sa),b(Ia,Oa),b(Oa,Na),b(Ia,Ua),b(Ia,Aa),b(Aa,Ba),b(Ia,ka),b(Ia,_a),b(_a,Ra),b(Ia,Ha),b(Ia,Fa),b(Fa,La),b(Ia,Va),b(Ia,$a),b($a,Ca),b(ya,Wa);for(var f=0;f<ut.length;f+=1)ut[f].m(ya,null);b(ya,za),b(ya,qa),b(Ta,Ma),b(Ta,Ga),j(ht,Ga,null),b(Ga,Ka),b(Ta,Ja),b(Ta,Xa),b(Xa,Qa),b(Qa,Ya),b(Qa,Za),b(Qa,at),b(Qa,tt),b(Qa,rt),b(Qa,et),b(Qa,nt),st=!0,ot=[T(Z,"change",P(a[3])),T(ua,"submit",P((function(){S(a[3]({currentPage:a[1]}))&&a[3]({currentPage:a[1]}).apply(this,arguments)}))),T(Ta,"click",a[15])]},p:function(t,r){var e=B(r,1)[0];if(a=t,52&e){var n;for(ft=a[2],n=0;n<ft.length;n+=1){var s=z(a,ft,n);ut[n]?ut[n].p(s,e):(ut[n]=G(s),ut[n].c(),ut[n].m(ya,za))}for(;n<ut.length;n+=1)ut[n].d(1);ut.length=ft.length}var o={};1&e&&(o.totalItems=a[0].length),2&e&&(o.currentPage=a[1]),ht.$set(o),(!st||2&e)&&ct!==(ct=(a[1]-1)*J+1+"")&&g(Za,ct),(!st||6&e)&&it!==(it=(a[1]-1)*J+a[2].length+"")&&g(tt,it),(!st||1&e)&&lt!==(lt=a[0].length+"")&&g(et,lt)},i:function(a){st||(O(ht.$$.fragment,a),st=!0)},o:function(a){N(ht.$$.fragment,a),st=!1},d:function(a){v(t),v(r),a&&v(e),a&&v(n),U(ut,a),A(ht),y(ot)}}}var J=10;function X(a,t,r){var e=$+"/health_registry/api_list",n=[],s=1,o=L.get("token");function c(){void 0!==o||window.location.replace(".")}function i(){var a=V("#searchfill").val()||"",t=(V("#selectentry").val(),e+"/list?search="+a);k(_.mark((function a(){var e;return _.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R(t,o);case 2:if(200!=(e=a.sent).status){a.next=13;break}return a.next=6,e.json();case 6:u=a.sent,r(0,n=u),r(2,d=W({items:n,pageSize:J,currentPage:s})),console.log(d),console.log(u),a.next=21;break;case 13:alert("session is expired please Login Again"),L.remove("token"),L.remove("username"),L.remove("role"),L.remove("province"),L.remove("district"),L.remove("municipality"),window.location.replace(".");case 21:case"end":return a.stop()}}),a)})))()}function l(a){if(confirm("Are you sure you want to Enable User for Write Permission?")){var t=e+"/enable/"+a;k(_.mark((function a(){var r;return _.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(t,{method:"PUT"});case 2:r=a.sent,console.log(r),200==r.status?H("User Enabled Successfully !"):F("Failed To Enable User."),i();case 6:case"end":return a.stop()}}),a)})))()}}function f(a){if(confirm("Are you sure you want to Disable User for Write Permission?")){var t=e+"/disable/"+a;k(_.mark((function a(){var r;return _.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(t,{method:"PUT"});case 2:r=a.sent,console.log(r),200==r.status?H("User Disabled Successfully !"):F("Failed To Disable USer."),i();case 6:case"end":return a.stop()}}),a)})))()}}c(),i();var u,d;return u=[],r(2,d=[]),[n,s,d,i,l,f,u,e,o,c,function(a,t){return l(a.id)},function(a,t){return f(a.id)},function(a,t){return l(a.id)},function(a,t){return f(a.id)},function(a){return r(1,s=a.detail.page)},function(){return i()}]}var Q=function(i){function l(a){var c;return t(this,l),c=r(this,e(l).call(this)),n(o(c),a,X,K,s,{}),c}return a(l,c),l}();export default Q;
