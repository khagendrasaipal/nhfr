import{a,b as e,c as t,d as r,i as o,s,e as n,S as c,f as l,t as i,h as f,j as u,k as v,l as d,q as h,r as m,n as p,g as E,m as g,o as b,u as I,v as y,N as _,G as T,H as O,I as x,p as N,K as w,L as D,a4 as S,A as P,B,Z as j,M as V,a5 as L}from"./index.93415519.js";import{_ as $}from"./slicedToArray.654f1255.js";import"./_commonjsHelpers.fffabd3b.js";import{_ as A,a as k}from"./asyncToGenerator.7c85ec32.js";import{l as C,c as R}from"./create.6718c41c.js";import{N as H,s as U,d as F}from"./index.d400a0a9.js";import{C as M}from"./js.cookie.16c010e5.js";import{j as z}from"./jquery.d05c5983.js";import{parent as q,baseUrl as G}from"./fetchdata.5973311e.js";import{L as K,p as W}from"./index.2c878162.js";var Z=L.document;function J(a,e,t){var r=a.slice();return r[14]=e[t],r}function Q(a,e,t){var r=a.slice();return r[14]=e[t],r}function X(a){var e,t,r=a[14].type_name+"";return{c:function(){e=l("option"),t=i(r),this.h()},l:function(a){e=f(a,"OPTION",{value:!0});var o=u(e);t=v(o,r),o.forEach(d),this.h()},h:function(){e.__value=a[14].id,e.value=e.__value},m:function(a,r){h(a,e,r),m(e,t)},p:p,d:function(a){a&&d(e)}}}function Y(a){var e,t,r,o,s,n,c,p,T,O,x,N,w,D,S,P,B,j,V=a[14].id+"",L=a[14].code+"",$=a[14].name+"";function A(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return((e=a)[10].apply(e,[a[14]].concat(r)))}function k(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return((e=a)[11].apply(e,[a[14]].concat(r)))}return{c:function(){e=l("tr"),t=l("td"),r=i(V),o=E(),s=l("td"),n=i(L),c=E(),p=l("td"),T=i($),O=E(),x=l("td"),N=l("a"),w=l("span"),D=E(),S=l("a"),P=l("span"),B=E(),this.h()},l:function(a){e=f(a,"TR",{});var l=u(e);t=f(l,"TD",{});var i=u(t);r=v(i,V),i.forEach(d),o=g(l),s=f(l,"TD",{});var h=u(s);n=v(h,L),h.forEach(d),c=g(l),p=f(l,"TD",{});var m=u(p);T=v(m,$),m.forEach(d),O=g(l),x=f(l,"TD",{});var E=u(x);N=f(E,"A",{class:!0,href:!0});var b=u(N);w=f(b,"SPAN",{class:!0}),u(w).forEach(d),b.forEach(d),D=g(E),S=f(E,"A",{class:!0,href:!0});var I=u(S);P=f(I,"SPAN",{class:!0}),u(P).forEach(d),I.forEach(d),B=g(E),E.forEach(d),l.forEach(d),this.h()},h:function(){b(w,"class","glyphicon glyphicon-edit"),b(N,"class","btn btn-info"),b(N,"href","javascript:void(0)"),b(P,"class","glyphicon glyphicon-trash"),b(S,"class","btn btn-danger"),b(S,"href","javascript:void(0)")},m:function(a,l){h(a,e,l),m(e,t),m(t,r),m(e,o),m(e,s),m(s,n),m(e,c),m(e,p),m(p,T),m(e,O),m(e,x),m(x,N),m(N,w),m(x,D),m(x,S),m(S,P),m(x,B),j=[I(N,"click",A),I(S,"click",k)]},p:function(e,t){a=e,4&t&&V!==(V=a[14].id+"")&&y(r,V),4&t&&L!==(L=a[14].code+"")&&y(n,L),4&t&&$!==($=a[14].name+"")&&y(T,$)},d:function(a){a&&d(e),_(j)}}}function aa(a){for(var e,t,r,o,s,n,c,p,y,L,A,k,C,R,U,F,M,z,G,W,aa,ta,ra,oa,sa,na,ca,la,ia,fa,ua,va,da,ha,ma,pa,Ea,ga,ba,Ia,ya,_a,Ta,Oa,xa,Na,wa,Da,Sa,Pa,Ba,ja,Va,La,$a,Aa,ka,Ca,Ra,Ha,Ua,Fa,Ma,za,qa,Ga,Ka,Wa,Za,Ja,Qa,Xa,Ya,ae,ee,te,re,oe,se,ne,ce,le,ie,fe,ue,ve,de,he,me,pe,Ee,ge,be,Ie,ye,_e,Te,Oe,xe,Ne,we,De,Se,Pe,Be,je,Ve,Le,$e,Ae,ke,Ce,Re,He,Ue=q,Fe=[],Me=0;Me<Ue.length;Me+=1)Fe[Me]=X(Q(a,Ue,Me));for(var ze=new H({}),qe=a[2],Ge=[],Ke=0;Ke<qe.length;Ke+=1)Ge[Ke]=Y(J(a,qe,Ke));var We=new K({props:{totalItems:a[0].length,pageSize:ea,currentPage:a[1],limit:1,showStepOptions:!0}});return We.$on("setPage",a[12]),{c:function(){e=l("link"),t=E(),r=l("div"),o=l("div"),s=l("div"),n=l("div"),c=l("h3"),p=i("Create Ownership"),y=E(),L=l("form"),A=l("input"),k=E(),C=l("div"),R=l("div"),U=l("label"),F=i("Parent Ownership"),M=E(),z=l("select"),G=l("option"),W=i("Select One..");for(var a=0;a<Fe.length;a+=1)Fe[a].c();aa=E(),ta=l("div"),ra=l("label"),oa=i("Code"),sa=E(),na=l("input"),ca=E(),la=l("div"),ia=l("label"),fa=i("Name"),ua=E(),va=l("input"),da=E(),ha=l("div"),ma=l("label"),pa=i("Status"),Ea=E(),ga=l("select"),ba=l("option"),Ia=i("Select One.."),ya=l("option"),_a=i("Enabled"),Ta=l("option"),Oa=i("Disabled"),xa=l("option"),Na=i("Expired"),wa=E(),Da=l("div"),Sa=l("button"),Pa=i("Submit"),Ba=E(),ja=l("button"),Va=i("Reset"),La=E(),T(ze.$$.fragment),$a=E(),Aa=l("div"),ka=l("div"),Ca=l("h3"),Ra=i("List of Ownership"),Ha=E(),Ua=l("div"),Fa=l("button"),Ma=l("i"),za=E(),qa=l("button"),Ga=l("i"),Ka=E(),Wa=l("div"),Za=l("div"),Ja=l("div"),Qa=l("form"),Xa=l("b"),Ya=i("SHOW"),ae=E(),ee=l("select"),te=l("option"),re=i("10"),oe=l("option"),se=i("20"),ne=l("option"),ce=i("100"),le=E(),ie=l("b"),fe=i("ENTRIES"),ue=E(),ve=l("div"),de=l("form"),he=l("input"),me=E(),pe=l("button"),Ee=i("Search"),ge=E(),be=l("br"),Ie=l("br"),ye=E(),_e=l("div"),Te=l("table"),Oe=l("tr"),xe=l("th"),Ne=i("ID"),we=E(),De=l("th"),Se=i("Code"),Pe=E(),Be=l("th"),je=i("Name"),Ve=E(),Le=l("th"),$e=i("ACTIONS"),Ae=E();for(var f=0;f<Ge.length;f+=1)Ge[f].c();ke=E(),Ce=l("div"),T(We.$$.fragment),this.h()},l:function(a){var l=O('[data-svelte="svelte-gzyv7l"]',Z.head);e=f(l,"LINK",{rel:!0,href:!0}),l.forEach(d),t=g(a),r=f(a,"DIV",{class:!0});var i=u(r);o=f(i,"DIV",{class:!0});var h=u(o);s=f(h,"DIV",{class:!0});var m=u(s);n=f(m,"DIV",{class:!0});var E=u(n);c=f(E,"H3",{class:!0});var b=u(c);p=v(b,"Create Ownership"),b.forEach(d),E.forEach(d),y=g(m),L=f(m,"FORM",{role:!0,id:!0});var I=u(L);A=f(I,"INPUT",{type:!0,value:!0,name:!0,id:!0}),k=g(I),C=f(I,"DIV",{class:!0});var _=u(C);R=f(_,"DIV",{class:!0});var T=u(R);U=f(T,"LABEL",{for:!0});var N=u(U);F=v(N,"Parent Ownership"),N.forEach(d),M=g(T),z=f(T,"SELECT",{class:!0,id:!0,name:!0});var w=u(z);G=f(w,"OPTION",{value:!0});var D=u(G);W=v(D,"Select One.."),D.forEach(d);for(var S=0;S<Fe.length;S+=1)Fe[S].l(w);w.forEach(d),T.forEach(d),aa=g(_),ta=f(_,"DIV",{class:!0});var P=u(ta);ra=f(P,"LABEL",{for:!0});var B=u(ra);oa=v(B,"Code"),B.forEach(d),sa=g(P),na=f(P,"INPUT",{type:!0,name:!0,id:!0,class:!0,value:!0}),P.forEach(d),ca=g(_),la=f(_,"DIV",{class:!0});var j=u(la);ia=f(j,"LABEL",{for:!0});var V=u(ia);fa=v(V,"Name"),V.forEach(d),ua=g(j),va=f(j,"INPUT",{type:!0,name:!0,id:!0,class:!0}),j.forEach(d),da=g(_),ha=f(_,"DIV",{class:!0});var $=u(ha);ma=f($,"LABEL",{for:!0});var H=u(ma);pa=v(H,"Status"),H.forEach(d),Ea=g($),ga=f($,"SELECT",{class:!0,id:!0,name:!0});var q=u(ga);ba=f(q,"OPTION",{value:!0});var K=u(ba);Ia=v(K,"Select One.."),K.forEach(d),ya=f(q,"OPTION",{value:!0});var J=u(ya);_a=v(J,"Enabled"),J.forEach(d),Ta=f(q,"OPTION",{value:!0});var Q=u(Ta);Oa=v(Q,"Disabled"),Q.forEach(d),xa=f(q,"OPTION",{value:!0});var X=u(xa);Na=v(X,"Expired"),X.forEach(d),q.forEach(d),$.forEach(d),wa=g(_),Da=f(_,"DIV",{class:!0});var Y=u(Da);Sa=f(Y,"BUTTON",{type:!0,class:!0});var ea=u(Sa);Pa=v(ea,"Submit"),ea.forEach(d),Ba=g(Y),ja=f(Y,"BUTTON",{type:!0,onClick:!0,class:!0});var Re=u(ja);Va=v(Re,"Reset"),Re.forEach(d),La=g(Y),x(ze.$$.fragment,Y),Y.forEach(d),_.forEach(d),I.forEach(d),m.forEach(d),h.forEach(d),$a=g(i),Aa=f(i,"DIV",{class:!0});var He=u(Aa);ka=f(He,"DIV",{class:!0});var Ue=u(ka);Ca=f(Ue,"H3",{class:!0});var Me=u(Ca);Ra=v(Me,"List of Ownership"),Me.forEach(d),Ha=g(Ue),Ua=f(Ue,"DIV",{class:!0});var qe=u(Ua);Fa=f(qe,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var Ke=u(Fa);Ma=f(Ke,"I",{class:!0}),u(Ma).forEach(d),Ke.forEach(d),za=g(qe),qa=f(qe,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var Ze=u(qa);Ga=f(Ze,"I",{class:!0}),u(Ga).forEach(d),Ze.forEach(d),qe.forEach(d),Ue.forEach(d),Ka=g(He),Wa=f(He,"DIV",{id:!0,class:!0});var Je=u(Wa);Za=f(Je,"DIV",{class:!0});var Qe=u(Za);Ja=f(Qe,"DIV",{class:!0});var Xe=u(Ja);Qa=f(Xe,"FORM",{id:!0});var Ye=u(Qa);Xa=f(Ye,"B",{});var at=u(Xa);Ya=v(at,"SHOW"),at.forEach(d),ae=g(Ye),ee=f(Ye,"SELECT",{id:!0});var et=u(ee);te=f(et,"OPTION",{value:!0});var tt=u(te);re=v(tt,"10"),tt.forEach(d),oe=f(et,"OPTION",{value:!0});var rt=u(oe);se=v(rt,"20"),rt.forEach(d),ne=f(et,"OPTION",{value:!0});var ot=u(ne);ce=v(ot,"100"),ot.forEach(d),et.forEach(d),le=g(Ye),ie=f(Ye,"B",{});var st=u(ie);fe=v(st,"ENTRIES"),st.forEach(d),Ye.forEach(d),Xe.forEach(d),ue=g(Qe),ve=f(Qe,"DIV",{style:!0});var nt=u(ve);de=f(nt,"FORM",{id:!0,name:!0});var ct=u(de);he=f(ct,"INPUT",{id:!0,placeholder:!0,type:!0,name:!0}),me=g(ct),pe=f(ct,"BUTTON",{type:!0,id:!0,name:!0});var lt=u(pe);Ee=v(lt,"Search"),lt.forEach(d),ct.forEach(d),nt.forEach(d),ge=g(Qe),Qe.forEach(d),be=f(Je,"BR",{}),Ie=f(Je,"BR",{}),ye=g(Je),_e=f(Je,"DIV",{id:!0,class:!0});var it=u(_e);Te=f(it,"TABLE",{id:!0,class:!0});var ft=u(Te);Oe=f(ft,"TR",{});var ut=u(Oe);xe=f(ut,"TH",{});var vt=u(xe);Ne=v(vt,"ID"),vt.forEach(d),we=g(ut),De=f(ut,"TH",{});var dt=u(De);Se=v(dt,"Code"),dt.forEach(d),Pe=g(ut),Be=f(ut,"TH",{});var ht=u(Be);je=v(ht,"Name"),ht.forEach(d),Ve=g(ut),Le=f(ut,"TH",{});var mt=u(Le);$e=v(mt,"ACTIONS"),mt.forEach(d),ut.forEach(d),Ae=g(ft);for(var pt=0;pt<Ge.length;pt+=1)Ge[pt].l(ft);ft.forEach(d),ke=g(it),Ce=f(it,"DIV",{});var Et=u(Ce);x(We.$$.fragment,Et),Et.forEach(d),it.forEach(d),Je.forEach(d),He.forEach(d),i.forEach(d),this.h()},h:function(){Z.title="Ownership",b(e,"rel","stylesheet"),b(e,"href","https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),b(c,"class","box-title"),b(n,"class","box-header with-border"),b(A,"type","hidden"),A.value="",b(A,"name","id"),b(A,"id","id"),b(U,"for","exampleInputEmail1"),G.__value="",G.value=G.__value,b(z,"class","form-control"),b(z,"id","parent_id"),b(z,"name","parent_id"),b(R,"class","form-group"),b(ra,"for","exampleInputEmail1"),b(na,"type","text"),b(na,"name","code"),b(na,"id","code"),b(na,"class","form-control"),na.value="",b(ta,"class","form-group"),b(ia,"for","exampleInputEmail1"),b(va,"type","text"),b(va,"name","name"),b(va,"id","name"),b(va,"class","form-control"),b(la,"class","form-group"),b(ma,"for","exampleInputEmail1"),ba.__value="",ba.value=ba.__value,ya.__value="1",ya.value=ya.__value,Ta.__value="2",Ta.value=Ta.__value,xa.__value="3",xa.value=xa.__value,b(ga,"class","form-control"),b(ga,"id","status"),b(ga,"name","status"),b(ha,"class","form-group"),b(Sa,"type","submit"),b(Sa,"class","btn btn-primary"),b(ja,"type","reset"),b(ja,"onclick","resetForm()"),b(ja,"class","btn btn-info pull-right"),b(Da,"class","box-footer"),b(C,"class","box-body"),b(L,"role","form"),b(L,"id","form"),b(s,"class","box box-primary"),b(o,"class","col-md-6"),b(Ca,"class","box-title"),b(Ma,"class","fa fa-minus"),b(Fa,"type","button"),b(Fa,"class","btn btn-box-tool"),b(Fa,"data-widget","collapse"),b(Fa,"data-toggle","tooltip"),b(Fa,"title","Collapse"),b(Ga,"class","fa fa-times"),b(qa,"type","button"),b(qa,"class","btn btn-box-tool"),b(qa,"data-widget","remove"),b(qa,"data-toggle","tooltip"),b(qa,"title","Remove"),b(Ua,"class","box-tools pull-right"),b(ka,"class","box-header with-border"),te.__value="10",te.value=te.__value,oe.__value="20",oe.value=oe.__value,ne.__value="100",ne.value=ne.__value,b(ee,"id","selectentry"),b(Qa,"id","tableform"),b(Ja,"class","pull-left"),b(he,"id","searchfill"),b(he,"placeholder"," search here"),b(he,"type","text"),b(he,"name","search"),b(pe,"type","submit"),b(pe,"id","searchbtn"),b(pe,"name","submit"),b(de,"id","srch"),b(de,"name","srch"),N(ve,"float","right"),b(Za,"class","mb10"),b(Te,"id","admtype-table"),b(Te,"class","table table-striped table-bordered"),b(_e,"id","showtable"),b(_e,"class","box-body"),b(Wa,"id","table"),b(Wa,"class","box-body"),b(Aa,"class","box col-md-6"),b(r,"class","row col-md-12")},m:function(l,i){m(Z.head,e),h(l,t,i),h(l,r,i),m(r,o),m(o,s),m(s,n),m(n,c),m(c,p),m(s,y),m(s,L),m(L,A),m(L,k),m(L,C),m(C,R),m(R,U),m(U,F),m(R,M),m(R,z),m(z,G),m(G,W);for(var f=0;f<Fe.length;f+=1)Fe[f].m(z,null);m(C,aa),m(C,ta),m(ta,ra),m(ra,oa),m(ta,sa),m(ta,na),m(C,ca),m(C,la),m(la,ia),m(ia,fa),m(la,ua),m(la,va),m(C,da),m(C,ha),m(ha,ma),m(ma,pa),m(ha,Ea),m(ha,ga),m(ga,ba),m(ba,Ia),m(ga,ya),m(ya,_a),m(ga,Ta),m(Ta,Oa),m(ga,xa),m(xa,Na),m(C,wa),m(C,Da),m(Da,Sa),m(Sa,Pa),m(Da,Ba),m(Da,ja),m(ja,Va),m(Da,La),w(ze,Da,null),m(r,$a),m(r,Aa),m(Aa,ka),m(ka,Ca),m(Ca,Ra),m(ka,Ha),m(ka,Ua),m(Ua,Fa),m(Fa,Ma),m(Ua,za),m(Ua,qa),m(qa,Ga),m(Aa,Ka),m(Aa,Wa),m(Wa,Za),m(Za,Ja),m(Ja,Qa),m(Qa,Xa),m(Xa,Ya),m(Qa,ae),m(Qa,ee),m(ee,te),m(te,re),m(ee,oe),m(oe,se),m(ee,ne),m(ne,ce),m(Qa,le),m(Qa,ie),m(ie,fe),m(Za,ue),m(Za,ve),m(ve,de),m(de,he),m(de,me),m(de,pe),m(pe,Ee),m(Za,ge),m(Wa,be),m(Wa,Ie),m(Wa,ye),m(Wa,_e),m(_e,Te),m(Te,Oe),m(Oe,xe),m(xe,Ne),m(Oe,we),m(Oe,De),m(De,Se),m(Oe,Pe),m(Oe,Be),m(Be,je),m(Oe,Ve),m(Oe,Le),m(Le,$e),m(Te,Ae);for(var u=0;u<Ge.length;u+=1)Ge[u].m(Te,null);m(_e,ke),m(_e,Ce),w(We,Ce,null),Re=!0,He=[I(L,"submit",D(a[4])),I(ee,"change",D((function(){S(a[3]({currentPage:a[1]}))&&a[3]({currentPage:a[1]}).apply(this,arguments)}))),I(de,"submit",D((function(){S(a[3]({currentPage:a[1]}))&&a[3]({currentPage:a[1]}).apply(this,arguments)}))),I(_e,"click",a[13])]},p:function(e,t){var r=$(t,1)[0];if(a=e,0&r){var o;for(Ue=q,o=0;o<Ue.length;o+=1){var s=Q(a,Ue,o);Fe[o]?Fe[o].p(s,r):(Fe[o]=X(s),Fe[o].c(),Fe[o].m(z,null))}for(;o<Fe.length;o+=1)Fe[o].d(1);Fe.length=Ue.length}if(100&r){var n;for(qe=a[2],n=0;n<qe.length;n+=1){var c=J(a,qe,n);Ge[n]?Ge[n].p(c,r):(Ge[n]=Y(c),Ge[n].c(),Ge[n].m(Te,null))}for(;n<Ge.length;n+=1)Ge[n].d(1);Ge.length=qe.length}var l={};1&r&&(l.totalItems=a[0].length),2&r&&(l.currentPage=a[1]),We.$set(l)},i:function(a){Re||(P(ze.$$.fragment,a),P(We.$$.fragment,a),Re=!0)},o:function(a){B(ze.$$.fragment,a),B(We.$$.fragment,a),Re=!1},d:function(a){d(e),a&&d(t),a&&d(r),j(Fe,a),V(ze),j(Ge,a),V(We),_(He)}}}var ea=10;function ta(a,e,t){var r=G+"/ownership",o=M.get("token"),s=[],n=[],c=1;function l(){var a=z("#searchfill").val()||"",e=(z("#selectentry").val(),r+"/list?search="+a);A(k.mark((function a(){var r;return k.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C(e,o);case 2:if(200!=(r=a.sent).status){a.next=13;break}return a.next=6,r.json();case 6:s=a.sent,t(0,n=s),t(2,u=W({items:n,pageSize:ea,currentPage:c})),console.log(u),console.log(s),a.next=21;break;case 13:alert("session is expired please Login Again"),M.remove("token"),M.remove("username"),M.remove("role"),M.remove("province"),M.remove("district"),M.remove("municipality"),window.location.replace(".");case 21:case"end":return a.stop()}}),a)})))()}function i(a){confirm("Are you sure you want to delete?")}function f(a){var e=[];A(k.mark((function t(){var o;return k.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(r+"/edit/"+a);case 2:return o=t.sent,t.next=5,o.json();case 5:e=t.sent,document.getElementById("id").value=e.id,document.getElementById("parent_id").value=e.parent_id,document.getElementById("code").value=e.code,document.getElementById("name").value=e.name,document.getElementById("status").value=e.status;case 11:case"end":return t.stop()}}),t)})))()}l();var u;return t(2,u=[]),[n,c,u,l,function(a){var e,t;a.preventDefault();var s=document.getElementById("id").value,n=document.getElementById("parent_id").value,c=document.getElementById("code").value,i=document.getElementById("name").value,f=document.getElementById("status").value;""==s?(e=r+"/create",t="POST"):(e=r+"/update/"+s,t="PUT");var u={parent_id:n,code:c,name:i,status:f};console.log(u),A(k.mark((function a(){var r;return k.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R(e,t,u,o);case 2:r=a.sent,console.log(r),200==r.status?(U("Item Saved Successfully"),z("#id").val(""),z("#form")[0].reset()):F("Failed to save data"),l();case 6:case"end":return a.stop()}}),a)})))()},i,f,s,r,o,function(a,e){return f(a.id)},function(a,e){return i(a.id)},function(a){return t(1,c=a.detail.page)},function(){return l()}]}var ra=function(l){function i(a){var c;return e(this,i),c=t(this,r(i).call(this)),o(n(c),a,ta,aa,s,{}),c}return a(i,c),i}();export default ra;
