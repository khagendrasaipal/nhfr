import{S as a,i as t,s as e,e as r,t as o,a as s,c,b as l,d as i,f as n,g as d,k as h,l as f,o as p,z as m,A as v,B as u,h as g,j as b,D as E,m as I,E as T,W as y,v as D,w as j,Q as x,F as w,G as S,n as _}from"./index.e5c655c7.js";import{l as O}from"./create.bcc8dfec.js";import"./index.02e345fc.js";import"./_commonjsHelpers.fffabd3b.js";import{C as P}from"./js.cookie.7f372dc7.js";import{j as R}from"./jquery.dc1d5bd8.js";import{baseUrl as B}from"./fetchdata.4bfb09cd.js";import{L,p as N}from"./index.9bb96efd.js";function H(a,t,e){const r=a.slice();return r[10]=t[e],r}function V(a){let t,e,s=a[10].caseid+"";return{c(){t=r("td"),e=o(s)},l(a){t=c(a,"TD",{});var r=l(t);e=i(r,s),r.forEach(n)},m(a,r){h(a,t,r),f(t,e)},p(a,t){4&t&&s!==(s=a[10].caseid+"")&&p(e,s)},d(a){a&&n(t)}}}function $(a){let t,e;return{c(){t=r("td"),e=o("-")},l(a){t=c(a,"TD",{});var r=l(t);e=i(r,"-"),r.forEach(n)},m(a,r){h(a,t,r),f(t,e)},p:_,d(a){a&&n(t)}}}function A(a){let t,e,m,v,u,g,b,E,I,T,y,D,j,x,w,S,_=a[10].id+"",O=a[10].userid+"",P=a[10].action+"",R=a[10].url+"",B=a[10].created_at+"";function L(a,t){return 0==a[10].caseid?$:V}let N=L(a),H=N(a);return{c(){t=r("tr"),e=r("td"),m=o(_),v=s(),u=r("td"),g=o(O),b=s(),E=r("td"),I=o(P),T=s(),y=r("td"),D=o(R),j=s(),H.c(),x=s(),w=r("td"),S=o(B)},l(a){t=c(a,"TR",{});var r=l(t);e=c(r,"TD",{});var o=l(e);m=i(o,_),o.forEach(n),v=d(r),u=c(r,"TD",{});var s=l(u);g=i(s,O),s.forEach(n),b=d(r),E=c(r,"TD",{});var h=l(E);I=i(h,P),h.forEach(n),T=d(r),y=c(r,"TD",{});var f=l(y);D=i(f,R),f.forEach(n),j=d(r),H.l(r),x=d(r),w=c(r,"TD",{});var p=l(w);S=i(p,B),p.forEach(n),r.forEach(n)},m(a,r){h(a,t,r),f(t,e),f(e,m),f(t,v),f(t,u),f(u,g),f(t,b),f(t,E),f(E,I),f(t,T),f(t,y),f(y,D),f(t,j),H.m(t,null),f(t,x),f(t,w),f(w,S)},p(a,e){4&e&&_!==(_=a[10].id+"")&&p(m,_),4&e&&O!==(O=a[10].userid+"")&&p(g,O),4&e&&P!==(P=a[10].action+"")&&p(I,P),4&e&&R!==(R=a[10].url+"")&&p(D,R),N===(N=L(a))&&H?H.p(a,e):(H.d(1),H=N(a),H&&(H.c(),H.m(t,x))),4&e&&B!==(B=a[10].created_at+"")&&p(S,B)},d(a){a&&n(t),H.d()}}}function U(a){let t,e,_,O,P,R,B,N,V,$,U,C,z,F,q,M,W,G,K,Q,J,X,Y,Z,aa,ta,ea,ra,oa,sa,ca,la,ia,na,da,ha,fa,pa,ma,va,ua,ga,ba,Ea,Ia,Ta,ya,Da,ja,xa,wa,Sa,_a,Oa,Pa,Ra,Ba,La,Na,Ha,Va,$a,Aa,Ua,ka,Ca,za,Fa,qa,Ma,Wa,Ga,Ka,Qa,Ja,Xa,Ya,Za,at,tt,et,rt,ot=(a[1]-1)*k+1+"",st=(a[1]-1)*k+a[2].length+"",ct=a[0].length+"",lt=a[2],it=[];for(let t=0;t<lt.length;t+=1)it[t]=A(H(a,lt,t));const nt=new L({props:{totalItems:a[0].length,pageSize:k,currentPage:a[1],limit:1,showStepOptions:!0}});return nt.$on("setPage",a[8]),{c(){t=r("link"),e=r("script"),O=s(),P=r("div"),R=r("div"),B=r("h3"),N=o("List of API Log"),V=s(),$=r("div"),U=r("button"),C=r("i"),z=s(),F=r("button"),q=r("i"),M=s(),W=r("div"),G=r("div"),K=r("div"),Q=r("form"),J=r("b"),X=o("SHOW"),Y=s(),Z=r("select"),aa=r("option"),ta=o("10"),ea=r("option"),ra=o("20"),oa=r("option"),sa=o("100"),ca=s(),la=r("b"),ia=o("ENTRIES"),na=s(),da=r("div"),ha=r("form"),fa=r("input"),pa=s(),ma=r("button"),va=o("Search"),ua=s(),ga=r("br"),ba=r("br"),Ea=s(),Ia=r("div"),Ta=r("table"),ya=r("tr"),Da=r("th"),ja=o("ID"),xa=s(),wa=r("th"),Sa=o("User Id"),_a=s(),Oa=r("th"),Pa=o("Action"),Ra=s(),Ba=r("th"),La=o("URL"),Na=s(),Ha=r("th"),Va=o("Case ID"),$a=s(),Aa=r("th"),Ua=o("Date"),ka=s();for(let a=0;a<it.length;a+=1)it[a].c();Ca=s(),za=r("div"),Fa=s(),qa=r("div"),m(nt.$$.fragment),Ma=s(),Wa=r("br"),Ga=r("p"),Ka=r("b"),Qa=o("Showing "),Ja=o(ot),Xa=o(" to "),Ya=o(st),Za=o("  from total "),at=o(ct),tt=o(" Records."),this.h()},l(a){const r=v('[data-svelte="svelte-17iz5w9"]',document.head);t=c(r,"LINK",{rel:!0,href:!0}),e=c(r,"SCRIPT",{src:!0,integrity:!0,crossorigin:!0}),l(e).forEach(n),r.forEach(n),O=d(a),P=c(a,"DIV",{class:!0});var o=l(P);R=c(o,"DIV",{class:!0});var s=l(R);B=c(s,"H3",{class:!0});var h=l(B);N=i(h,"List of API Log"),h.forEach(n),V=d(s),$=c(s,"DIV",{class:!0});var f=l($);U=c(f,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var p=l(U);C=c(p,"I",{class:!0}),l(C).forEach(n),p.forEach(n),z=d(f),F=c(f,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var m=l(F);q=c(m,"I",{class:!0}),l(q).forEach(n),m.forEach(n),f.forEach(n),s.forEach(n),M=d(o),W=c(o,"DIV",{id:!0,class:!0});var g=l(W);G=c(g,"DIV",{class:!0});var b=l(G);K=c(b,"DIV",{class:!0});var E=l(K);Q=c(E,"FORM",{id:!0});var I=l(Q);J=c(I,"B",{});var T=l(J);X=i(T,"SHOW"),T.forEach(n),Y=d(I),Z=c(I,"SELECT",{id:!0});var y=l(Z);aa=c(y,"OPTION",{value:!0});var D=l(aa);ta=i(D,"10"),D.forEach(n),ea=c(y,"OPTION",{value:!0});var j=l(ea);ra=i(j,"20"),j.forEach(n),oa=c(y,"OPTION",{value:!0});var x=l(oa);sa=i(x,"100"),x.forEach(n),y.forEach(n),ca=d(I),la=c(I,"B",{});var w=l(la);ia=i(w,"ENTRIES"),w.forEach(n),I.forEach(n),E.forEach(n),na=d(b),da=c(b,"DIV",{style:!0});var S=l(da);ha=c(S,"FORM",{id:!0,name:!0});var _=l(ha);fa=c(_,"INPUT",{id:!0,placeholder:!0,type:!0,name:!0}),pa=d(_),ma=c(_,"BUTTON",{type:!0,id:!0,name:!0});var L=l(ma);va=i(L,"Search"),L.forEach(n),_.forEach(n),S.forEach(n),ua=d(b),b.forEach(n),ga=c(g,"BR",{}),ba=c(g,"BR",{}),Ea=d(g),Ia=c(g,"DIV",{id:!0,class:!0});var H=l(Ia);Ta=c(H,"TABLE",{id:!0,class:!0});var A=l(Ta);ya=c(A,"TR",{});var k=l(ya);Da=c(k,"TH",{});var et=l(Da);ja=i(et,"ID"),et.forEach(n),xa=d(k),wa=c(k,"TH",{});var rt=l(wa);Sa=i(rt,"User Id"),rt.forEach(n),_a=d(k),Oa=c(k,"TH",{});var lt=l(Oa);Pa=i(lt,"Action"),lt.forEach(n),Ra=d(k),Ba=c(k,"TH",{});var dt=l(Ba);La=i(dt,"URL"),dt.forEach(n),Na=d(k),Ha=c(k,"TH",{});var ht=l(Ha);Va=i(ht,"Case ID"),ht.forEach(n),$a=d(k),Aa=c(k,"TH",{});var ft=l(Aa);Ua=i(ft,"Date"),ft.forEach(n),k.forEach(n),ka=d(A);for(let a=0;a<it.length;a+=1)it[a].l(A);Ca=d(A),za=c(A,"DIV",{id:!0}),l(za).forEach(n),A.forEach(n),Fa=d(H),qa=c(H,"DIV",{});var pt=l(qa);u(nt.$$.fragment,pt),Ma=d(pt),pt.forEach(n),Wa=c(H,"BR",{}),Ga=c(H,"P",{style:!0});var mt=l(Ga);Ka=c(mt,"B",{align:!0});var vt=l(Ka);Qa=i(vt,"Showing "),Ja=i(vt,ot),Xa=i(vt," to "),Ya=i(vt,st),Za=i(vt,"  from total "),at=i(vt,ct),tt=i(vt," Records."),vt.forEach(n),mt.forEach(n),H.forEach(n),g.forEach(n),o.forEach(n),this.h()},h(){document.title="API List",g(t,"rel","stylesheet"),g(t,"href","https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),e.src!==(_="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js")&&g(e,"src","https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"),g(e,"integrity","sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"),g(e,"crossorigin","anonymous"),g(B,"class","box-title"),g(C,"class","fa fa-minus"),g(U,"type","button"),g(U,"class","btn btn-box-tool"),g(U,"data-widget","collapse"),g(U,"data-toggle","tooltip"),g(U,"title","Collapse"),g(q,"class","fa fa-times"),g(F,"type","button"),g(F,"class","btn btn-box-tool"),g(F,"data-widget","remove"),g(F,"data-toggle","tooltip"),g(F,"title","Remove"),g($,"class","box-tools pull-right"),g(R,"class","box-header with-border"),aa.__value="10",aa.value=aa.__value,ea.__value="20",ea.value=ea.__value,oa.__value="100",oa.value=oa.__value,g(Z,"id","selectentry"),g(Q,"id","tableform"),g(K,"class","pull-left"),g(fa,"id","searchfill"),g(fa,"placeholder"," search here"),g(fa,"type","text"),g(fa,"name","search"),g(ma,"type","submit"),g(ma,"id","searchbtn"),g(ma,"name","submit"),g(ha,"id","srch"),g(ha,"name","srch"),b(da,"float","right"),g(G,"class","mb10"),g(za,"id","tab1"),g(Ta,"id","admtype-table"),g(Ta,"class","table table-striped table-bordered"),g(Ka,"align","center"),b(Ga,"text-align","center"),g(Ia,"id","showtable"),g(Ia,"class","box-body"),g(W,"id","table"),g(W,"class","box-body"),g(P,"class","box col-md-12")},m(r,o){f(document.head,t),f(document.head,e),h(r,O,o),h(r,P,o),f(P,R),f(R,B),f(B,N),f(R,V),f(R,$),f($,U),f(U,C),f($,z),f($,F),f(F,q),f(P,M),f(P,W),f(W,G),f(G,K),f(K,Q),f(Q,J),f(J,X),f(Q,Y),f(Q,Z),f(Z,aa),f(aa,ta),f(Z,ea),f(ea,ra),f(Z,oa),f(oa,sa),f(Q,ca),f(Q,la),f(la,ia),f(G,na),f(G,da),f(da,ha),f(ha,fa),f(ha,pa),f(ha,ma),f(ma,va),f(G,ua),f(W,ga),f(W,ba),f(W,Ea),f(W,Ia),f(Ia,Ta),f(Ta,ya),f(ya,Da),f(Da,ja),f(ya,xa),f(ya,wa),f(wa,Sa),f(ya,_a),f(ya,Oa),f(Oa,Pa),f(ya,Ra),f(ya,Ba),f(Ba,La),f(ya,Na),f(ya,Ha),f(Ha,Va),f(ya,$a),f(ya,Aa),f(Aa,Ua),f(Ta,ka);for(let a=0;a<it.length;a+=1)it[a].m(Ta,null);f(Ta,Ca),f(Ta,za),f(Ia,Fa),f(Ia,qa),E(nt,qa,null),f(qa,Ma),f(Ia,Wa),f(Ia,Ga),f(Ga,Ka),f(Ka,Qa),f(Ka,Ja),f(Ka,Xa),f(Ka,Ya),f(Ka,Za),f(Ka,at),f(Ka,tt),et=!0,rt=[I(Z,"change",T(a[3])),I(ha,"submit",T((function(){y(a[3]({currentPage:a[1]}))&&a[3]({currentPage:a[1]}).apply(this,arguments)}))),I(Ia,"click",a[9])]},p(t,[e]){if(a=t,4&e){let t;for(lt=a[2],t=0;t<lt.length;t+=1){const r=H(a,lt,t);it[t]?it[t].p(r,e):(it[t]=A(r),it[t].c(),it[t].m(Ta,Ca))}for(;t<it.length;t+=1)it[t].d(1);it.length=lt.length}const r={};1&e&&(r.totalItems=a[0].length),2&e&&(r.currentPage=a[1]),nt.$set(r),(!et||2&e)&&ot!==(ot=(a[1]-1)*k+1+"")&&p(Ja,ot),(!et||6&e)&&st!==(st=(a[1]-1)*k+a[2].length+"")&&p(Ya,st),(!et||1&e)&&ct!==(ct=a[0].length+"")&&p(at,ct)},i(a){et||(D(nt.$$.fragment,a),et=!0)},o(a){j(nt.$$.fragment,a),et=!1},d(a){n(t),n(e),a&&n(O),a&&n(P),x(it,a),w(nt),S(rt)}}}let k=10;function C(a,t,e){let r=B+"/health_registry/api_log",o=[],s=1,c=P.get("token");function l(){void 0!==c||window.location.replace(".")}function i(){var a=R("#searchfill").val()||"";R("#selectentry").val();let t=r+"/list?search="+a;(async()=>{const a=await O(t,c);console.log(a),200==a.status?(n=await a.json(),e(0,o=n),e(2,d=N({items:o,pageSize:k,currentPage:s})),console.log(d),console.log(n)):(alert("session is expired please Login Again"),P.remove("token"),P.remove("username"),P.remove("role"),P.remove("province"),P.remove("district"),P.remove("municipality"),window.location.replace("."))})()}l(),i();let n,d;return n=[],e(2,d=[]),[o,s,d,i,n,r,c,l,a=>e(1,s=a.detail.page),()=>i()]}export default class extends a{constructor(a){super(),t(this,a,C,U,e,{})}}
