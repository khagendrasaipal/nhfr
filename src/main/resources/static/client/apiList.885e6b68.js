import{S as a,i as e,s as t,e as s,t as r,a as o,c as l,b as c,d as i,f as n,g as d,k as h,l as f,o as u,h as m,m as v,G as p,z as b,A as E,B as g,j as T,D as y,E as I,W as D,v as j,w,Q as P,F as S}from"./index.e5c655c7.js";import{l as x}from"./create.15ee5e82.js";import{s as O,d as N}from"./index.72429f81.js";import{C as U}from"./js.cookie.a0f74474.js";import{j as B}from"./jquery.84830057.js";import{baseUrl as _}from"./fetchdata.678a37a2.js";import{L as A,p as R}from"./index.79ed0db2.js";function k(a,e,t){const s=a.slice();return s[16]=e[t],s}function H(a){let e,t,u,b,E,g;function T(...e){return a[10](a[16],...e)}function y(...e){return a[11](a[16],...e)}return{c(){e=s("button"),t=r("Enable"),u=o(),b=s("button"),E=r("Disabled"),this.h()},l(a){e=l(a,"BUTTON",{class:!0,href:!0});var s=c(e);t=i(s,"Enable"),s.forEach(n),u=d(a),b=l(a,"BUTTON",{class:!0,disabled:!0,href:!0});var r=c(b);E=i(r,"Disabled"),r.forEach(n),this.h()},h(){m(e,"class","btn btn-success"),m(e,"href","javascript:void(0)"),m(b,"class","btn btn-danger"),b.disabled=!0,m(b,"href","javascript:void(0)")},m(a,s){h(a,e,s),f(e,t),h(a,u,s),h(a,b,s),f(b,E),g=[v(e,"click",T),v(b,"click",y)]},p(e,t){a=e},d(a){a&&n(e),a&&n(u),a&&n(b),p(g)}}}function F(a){let e,t,u,b,E,g;function T(...e){return a[12](a[16],...e)}function y(...e){return a[13](a[16],...e)}return{c(){e=s("button"),t=r("Enabled"),u=o(),b=s("button"),E=r("Disable"),this.h()},l(a){e=l(a,"BUTTON",{class:!0,disabled:!0,href:!0});var s=c(e);t=i(s,"Enabled"),s.forEach(n),u=d(a),b=l(a,"BUTTON",{class:!0,href:!0});var r=c(b);E=i(r,"Disable"),r.forEach(n),this.h()},h(){m(e,"class","btn btn-success"),e.disabled=!0,m(e,"href","javascript:void(0)"),m(b,"class","btn btn-danger"),m(b,"href","javascript:void(0)")},m(a,s){h(a,e,s),f(e,t),h(a,u,s),h(a,b,s),f(b,E),g=[v(e,"click",T),v(b,"click",y)]},p(e,t){a=e},d(a){a&&n(e),a&&n(u),a&&n(b),p(g)}}}function V(a){let e,t,m,v,p,b,E,g,T,y,I,D,j,w,P,S,x,O,N,U,B,_=a[16].id+"",A=a[16].fullname+"",R=a[16].email+"",k=a[16].address+"",V=a[16].designation+"",$=a[16].phone+"",L=0==a[16].status&&H(a),C=1==a[16].status&&F(a);return{c(){e=s("tr"),t=s("td"),m=r(_),v=o(),p=s("td"),b=r(A),E=o(),g=s("td"),T=r(R),y=o(),I=s("td"),D=r(k),j=o(),w=s("td"),P=r(V),S=o(),x=s("td"),O=r($),N=o(),U=s("td"),L&&L.c(),B=o(),C&&C.c()},l(a){e=l(a,"TR",{});var s=c(e);t=l(s,"TD",{});var r=c(t);m=i(r,_),r.forEach(n),v=d(s),p=l(s,"TD",{});var o=c(p);b=i(o,A),o.forEach(n),E=d(s),g=l(s,"TD",{});var h=c(g);T=i(h,R),h.forEach(n),y=d(s),I=l(s,"TD",{});var f=c(I);D=i(f,k),f.forEach(n),j=d(s),w=l(s,"TD",{});var u=c(w);P=i(u,V),u.forEach(n),S=d(s),x=l(s,"TD",{});var H=c(x);O=i(H,$),H.forEach(n),N=d(s),U=l(s,"TD",{});var F=c(U);L&&L.l(F),B=d(F),C&&C.l(F),F.forEach(n),s.forEach(n)},m(a,s){h(a,e,s),f(e,t),f(t,m),f(e,v),f(e,p),f(p,b),f(e,E),f(e,g),f(g,T),f(e,y),f(e,I),f(I,D),f(e,j),f(e,w),f(w,P),f(e,S),f(e,x),f(x,O),f(e,N),f(e,U),L&&L.m(U,null),f(U,B),C&&C.m(U,null)},p(a,e){4&e&&_!==(_=a[16].id+"")&&u(m,_),4&e&&A!==(A=a[16].fullname+"")&&u(b,A),4&e&&R!==(R=a[16].email+"")&&u(T,R),4&e&&k!==(k=a[16].address+"")&&u(D,k),4&e&&V!==(V=a[16].designation+"")&&u(P,V),4&e&&$!==($=a[16].phone+"")&&u(O,$),0==a[16].status?L?L.p(a,e):(L=H(a),L.c(),L.m(U,B)):L&&(L.d(1),L=null),1==a[16].status?C?C.p(a,e):(C=F(a),C.c(),C.m(U,null)):C&&(C.d(1),C=null)},d(a){a&&n(e),L&&L.d(),C&&C.d()}}}function $(a){let e,t,x,O,N,U,B,_,R,H,F,$,C,W,z,q,M,G,K,Q,J,X,Y,Z,aa,ea,ta,sa,ra,oa,la,ca,ia,na,da,ha,fa,ua,ma,va,pa,ba,Ea,ga,Ta,ya,Ia,Da,ja,wa,Pa,Sa,xa,Oa,Na,Ua,Ba,_a,Aa,Ra,ka,Ha,Fa,Va,$a,La,Ca,Wa,za,qa,Ma,Ga,Ka,Qa,Ja,Xa,Ya,Za,ae,ee,te,se,re,oe,le,ce=(a[1]-1)*L+1+"",ie=(a[1]-1)*L+a[2].length+"",ne=a[0].length+"",de=a[2],he=[];for(let e=0;e<de.length;e+=1)he[e]=V(k(a,de,e));const fe=new A({props:{totalItems:a[0].length,pageSize:L,currentPage:a[1],limit:1,showStepOptions:!0}});return fe.$on("setPage",a[14]),{c(){e=s("link"),t=s("script"),O=o(),N=s("div"),U=s("div"),B=s("h3"),_=r("List of API Users"),R=o(),H=s("div"),F=s("button"),$=s("i"),C=o(),W=s("button"),z=s("i"),q=o(),M=s("div"),G=s("div"),K=s("div"),Q=s("form"),J=s("b"),X=r("SHOW"),Y=o(),Z=s("select"),aa=s("option"),ea=r("10"),ta=s("option"),sa=r("20"),ra=s("option"),oa=r("100"),la=o(),ca=s("b"),ia=r("ENTRIES"),na=o(),da=s("div"),ha=s("form"),fa=s("input"),ua=o(),ma=s("button"),va=r("Search"),pa=o(),ba=s("br"),Ea=s("br"),ga=o(),Ta=s("div"),ya=s("table"),Ia=s("tr"),Da=s("th"),ja=r("ID"),wa=o(),Pa=s("th"),Sa=r("Fullname"),xa=o(),Oa=s("th"),Na=r("Email"),Ua=o(),Ba=s("th"),_a=r("Address"),Aa=o(),Ra=s("th"),ka=r("Designation"),Ha=o(),Fa=s("th"),Va=r("Phone"),$a=o(),La=s("th"),Ca=r("ACTIONS(Write Permission)"),Wa=o();for(let a=0;a<he.length;a+=1)he[a].c();za=o(),qa=s("div"),Ma=o(),Ga=s("div"),b(fe.$$.fragment),Ka=o(),Qa=s("br"),Ja=s("p"),Xa=s("b"),Ya=r("Showing "),Za=r(ce),ae=r(" to "),ee=r(ie),te=r("  from total "),se=r(ne),re=r(" Records."),this.h()},l(a){const s=E('[data-svelte="svelte-17iz5w9"]',document.head);e=l(s,"LINK",{rel:!0,href:!0}),t=l(s,"SCRIPT",{src:!0,integrity:!0,crossorigin:!0}),c(t).forEach(n),s.forEach(n),O=d(a),N=l(a,"DIV",{class:!0});var r=c(N);U=l(r,"DIV",{class:!0});var o=c(U);B=l(o,"H3",{class:!0});var h=c(B);_=i(h,"List of API Users"),h.forEach(n),R=d(o),H=l(o,"DIV",{class:!0});var f=c(H);F=l(f,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var u=c(F);$=l(u,"I",{class:!0}),c($).forEach(n),u.forEach(n),C=d(f),W=l(f,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var m=c(W);z=l(m,"I",{class:!0}),c(z).forEach(n),m.forEach(n),f.forEach(n),o.forEach(n),q=d(r),M=l(r,"DIV",{id:!0,class:!0});var v=c(M);G=l(v,"DIV",{class:!0});var p=c(G);K=l(p,"DIV",{class:!0});var b=c(K);Q=l(b,"FORM",{id:!0});var T=c(Q);J=l(T,"B",{});var y=c(J);X=i(y,"SHOW"),y.forEach(n),Y=d(T),Z=l(T,"SELECT",{id:!0});var I=c(Z);aa=l(I,"OPTION",{value:!0});var D=c(aa);ea=i(D,"10"),D.forEach(n),ta=l(I,"OPTION",{value:!0});var j=c(ta);sa=i(j,"20"),j.forEach(n),ra=l(I,"OPTION",{value:!0});var w=c(ra);oa=i(w,"100"),w.forEach(n),I.forEach(n),la=d(T),ca=l(T,"B",{});var P=c(ca);ia=i(P,"ENTRIES"),P.forEach(n),T.forEach(n),b.forEach(n),na=d(p),da=l(p,"DIV",{style:!0});var S=c(da);ha=l(S,"FORM",{id:!0,name:!0});var x=c(ha);fa=l(x,"INPUT",{id:!0,placeholder:!0,type:!0,name:!0}),ua=d(x),ma=l(x,"BUTTON",{type:!0,id:!0,name:!0});var A=c(ma);va=i(A,"Search"),A.forEach(n),x.forEach(n),S.forEach(n),pa=d(p),p.forEach(n),ba=l(v,"BR",{}),Ea=l(v,"BR",{}),ga=d(v),Ta=l(v,"DIV",{id:!0,class:!0});var k=c(Ta);ya=l(k,"TABLE",{id:!0,class:!0});var V=c(ya);Ia=l(V,"TR",{});var L=c(Ia);Da=l(L,"TH",{});var oe=c(Da);ja=i(oe,"ID"),oe.forEach(n),wa=d(L),Pa=l(L,"TH",{});var le=c(Pa);Sa=i(le,"Fullname"),le.forEach(n),xa=d(L),Oa=l(L,"TH",{});var de=c(Oa);Na=i(de,"Email"),de.forEach(n),Ua=d(L),Ba=l(L,"TH",{});var ue=c(Ba);_a=i(ue,"Address"),ue.forEach(n),Aa=d(L),Ra=l(L,"TH",{});var me=c(Ra);ka=i(me,"Designation"),me.forEach(n),Ha=d(L),Fa=l(L,"TH",{});var ve=c(Fa);Va=i(ve,"Phone"),ve.forEach(n),$a=d(L),La=l(L,"TH",{});var pe=c(La);Ca=i(pe,"ACTIONS(Write Permission)"),pe.forEach(n),L.forEach(n),Wa=d(V);for(let a=0;a<he.length;a+=1)he[a].l(V);za=d(V),qa=l(V,"DIV",{id:!0}),c(qa).forEach(n),V.forEach(n),Ma=d(k),Ga=l(k,"DIV",{});var be=c(Ga);g(fe.$$.fragment,be),Ka=d(be),be.forEach(n),Qa=l(k,"BR",{}),Ja=l(k,"P",{style:!0});var Ee=c(Ja);Xa=l(Ee,"B",{align:!0});var ge=c(Xa);Ya=i(ge,"Showing "),Za=i(ge,ce),ae=i(ge," to "),ee=i(ge,ie),te=i(ge,"  from total "),se=i(ge,ne),re=i(ge," Records."),ge.forEach(n),Ee.forEach(n),k.forEach(n),v.forEach(n),r.forEach(n),this.h()},h(){document.title="API List",m(e,"rel","stylesheet"),m(e,"href","https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),t.src!==(x="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js")&&m(t,"src","https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"),m(t,"integrity","sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"),m(t,"crossorigin","anonymous"),m(B,"class","box-title"),m($,"class","fa fa-minus"),m(F,"type","button"),m(F,"class","btn btn-box-tool"),m(F,"data-widget","collapse"),m(F,"data-toggle","tooltip"),m(F,"title","Collapse"),m(z,"class","fa fa-times"),m(W,"type","button"),m(W,"class","btn btn-box-tool"),m(W,"data-widget","remove"),m(W,"data-toggle","tooltip"),m(W,"title","Remove"),m(H,"class","box-tools pull-right"),m(U,"class","box-header with-border"),aa.__value="10",aa.value=aa.__value,ta.__value="20",ta.value=ta.__value,ra.__value="100",ra.value=ra.__value,m(Z,"id","selectentry"),m(Q,"id","tableform"),m(K,"class","pull-left"),m(fa,"id","searchfill"),m(fa,"placeholder"," search here"),m(fa,"type","text"),m(fa,"name","search"),m(ma,"type","submit"),m(ma,"id","searchbtn"),m(ma,"name","submit"),m(ha,"id","srch"),m(ha,"name","srch"),T(da,"float","right"),m(G,"class","mb10"),m(qa,"id","tab1"),m(ya,"id","admtype-table"),m(ya,"class","table table-striped table-bordered"),m(Xa,"align","center"),T(Ja,"text-align","center"),m(Ta,"id","showtable"),m(Ta,"class","box-body"),m(M,"id","table"),m(M,"class","box-body"),m(N,"class","box col-md-12")},m(s,r){f(document.head,e),f(document.head,t),h(s,O,r),h(s,N,r),f(N,U),f(U,B),f(B,_),f(U,R),f(U,H),f(H,F),f(F,$),f(H,C),f(H,W),f(W,z),f(N,q),f(N,M),f(M,G),f(G,K),f(K,Q),f(Q,J),f(J,X),f(Q,Y),f(Q,Z),f(Z,aa),f(aa,ea),f(Z,ta),f(ta,sa),f(Z,ra),f(ra,oa),f(Q,la),f(Q,ca),f(ca,ia),f(G,na),f(G,da),f(da,ha),f(ha,fa),f(ha,ua),f(ha,ma),f(ma,va),f(G,pa),f(M,ba),f(M,Ea),f(M,ga),f(M,Ta),f(Ta,ya),f(ya,Ia),f(Ia,Da),f(Da,ja),f(Ia,wa),f(Ia,Pa),f(Pa,Sa),f(Ia,xa),f(Ia,Oa),f(Oa,Na),f(Ia,Ua),f(Ia,Ba),f(Ba,_a),f(Ia,Aa),f(Ia,Ra),f(Ra,ka),f(Ia,Ha),f(Ia,Fa),f(Fa,Va),f(Ia,$a),f(Ia,La),f(La,Ca),f(ya,Wa);for(let a=0;a<he.length;a+=1)he[a].m(ya,null);f(ya,za),f(ya,qa),f(Ta,Ma),f(Ta,Ga),y(fe,Ga,null),f(Ga,Ka),f(Ta,Qa),f(Ta,Ja),f(Ja,Xa),f(Xa,Ya),f(Xa,Za),f(Xa,ae),f(Xa,ee),f(Xa,te),f(Xa,se),f(Xa,re),oe=!0,le=[v(Z,"change",I(a[3])),v(ha,"submit",I((function(){D(a[3]({currentPage:a[1]}))&&a[3]({currentPage:a[1]}).apply(this,arguments)}))),v(Ta,"click",a[15])]},p(e,[t]){if(a=e,52&t){let e;for(de=a[2],e=0;e<de.length;e+=1){const s=k(a,de,e);he[e]?he[e].p(s,t):(he[e]=V(s),he[e].c(),he[e].m(ya,za))}for(;e<he.length;e+=1)he[e].d(1);he.length=de.length}const s={};1&t&&(s.totalItems=a[0].length),2&t&&(s.currentPage=a[1]),fe.$set(s),(!oe||2&t)&&ce!==(ce=(a[1]-1)*L+1+"")&&u(Za,ce),(!oe||6&t)&&ie!==(ie=(a[1]-1)*L+a[2].length+"")&&u(ee,ie),(!oe||1&t)&&ne!==(ne=a[0].length+"")&&u(se,ne)},i(a){oe||(j(fe.$$.fragment,a),oe=!0)},o(a){w(fe.$$.fragment,a),oe=!1},d(a){n(e),n(t),a&&n(O),a&&n(N),P(he,a),S(fe),p(le)}}}let L=10;function C(a,e,t){let s=_+"/health_registry/api_list",r=[],o=1,l=U.get("token");function c(){void 0!==l||window.location.replace(".")}function i(){var a=B("#searchfill").val()||"";B("#selectentry").val();let e=s+"/list?search="+a;(async()=>{const a=await x(e,l);200==a.status?(h=await a.json(),t(0,r=h),t(2,f=R({items:r,pageSize:L,currentPage:o})),console.log(f),console.log(h)):(alert("session is expired please Login Again"),U.remove("token"),U.remove("username"),U.remove("role"),U.remove("province"),U.remove("district"),U.remove("municipality"),window.location.replace("."))})()}function n(a){if(confirm("Are you sure you want to Enable User for Write Permission?")){let e=s+"/enable/"+a,t="PUT";(async()=>{const a=await fetch(e,{method:t});console.log(a),200==a.status?O("User Enabled Successfully !"):N("Failed To Enable User."),i()})()}}function d(a){if(confirm("Are you sure you want to Disable User for Write Permission?")){let e=s+"/disable/"+a,t="PUT";(async()=>{const a=await fetch(e,{method:t});console.log(a),200==a.status?O("User Disabled Successfully !"):N("Failed To Disable USer."),i()})()}}c(),i();let h,f;return h=[],t(2,f=[]),[r,o,f,i,n,d,h,s,l,c,(a,e)=>n(a.id),(a,e)=>d(a.id),(a,e)=>n(a.id),(a,e)=>d(a.id),a=>t(1,o=a.detail.page),()=>i()]}export default class extends a{constructor(a){super(),e(this,a,C,$,t,{})}}
