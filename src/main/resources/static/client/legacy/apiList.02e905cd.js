import{a,b as t,c as r,d as e,i as n,s,e as o,S as c,f as i,t as l,g as f,h as u,j as h,k as d,l as v,m as p,q as m,r as b,v as g,o as E,u as T,N as y,G as I,H as j,I as w,p as x,K as D,L as P,a4 as S,A as O,B as N,Z as U,M as A}from"./index.93415519.js";import{_ as B}from"./slicedToArray.654f1255.js";import"./_commonjsHelpers.fffabd3b.js";import{_,a as k}from"./asyncToGenerator.7c85ec32.js";import{l as H}from"./create.6718c41c.js";import{s as R,d as L}from"./index.d400a0a9.js";import{C as V}from"./js.cookie.16c010e5.js";import{j as $}from"./jquery.d05c5983.js";import{baseUrl as F}from"./fetchdata.c0b0d172.js";import{L as C,p as W}from"./index.2c878162.js";function z(a,t,r){var e=a.slice();return e[16]=t[r],e}function q(a){var t,r,e,n,s,o;function c(){for(var t,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return((t=a)[10].apply(t,[a[16]].concat(e)))}function g(){for(var t,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return((t=a)[11].apply(t,[a[16]].concat(e)))}return{c:function(){t=i("button"),r=l("Enable"),e=f(),n=i("button"),s=l("Disabled"),this.h()},l:function(a){t=u(a,"BUTTON",{class:!0,href:!0});var o=h(t);r=d(o,"Enable"),o.forEach(v),e=p(a),n=u(a,"BUTTON",{class:!0,disabled:!0,href:!0});var c=h(n);s=d(c,"Disabled"),c.forEach(v),this.h()},h:function(){E(t,"class","btn btn-success"),E(t,"href","javascript:void(0)"),E(n,"class","btn btn-danger"),n.disabled=!0,E(n,"href","javascript:void(0)")},m:function(a,i){m(a,t,i),b(t,r),m(a,e,i),m(a,n,i),b(n,s),o=[T(t,"click",c),T(n,"click",g)]},p:function(t,r){a=t},d:function(a){a&&v(t),a&&v(e),a&&v(n),y(o)}}}function M(a){var t,r,e,n,s,o;function c(){for(var t,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return((t=a)[12].apply(t,[a[16]].concat(e)))}function g(){for(var t,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return((t=a)[13].apply(t,[a[16]].concat(e)))}return{c:function(){t=i("button"),r=l("Enabled"),e=f(),n=i("button"),s=l("Disable"),this.h()},l:function(a){t=u(a,"BUTTON",{class:!0,disabled:!0,href:!0});var o=h(t);r=d(o,"Enabled"),o.forEach(v),e=p(a),n=u(a,"BUTTON",{class:!0,href:!0});var c=h(n);s=d(c,"Disable"),c.forEach(v),this.h()},h:function(){E(t,"class","btn btn-success"),t.disabled=!0,E(t,"href","javascript:void(0)"),E(n,"class","btn btn-danger"),E(n,"href","javascript:void(0)")},m:function(a,i){m(a,t,i),b(t,r),m(a,e,i),m(a,n,i),b(n,s),o=[T(t,"click",c),T(n,"click",g)]},p:function(t,r){a=t},d:function(a){a&&v(t),a&&v(e),a&&v(n),y(o)}}}function G(a){var t,r,e,n,s,o,c,E,T,y,I,j,w,x,D,P,S,O,N,U,A,B=a[16].id+"",_=a[16].fullname+"",k=a[16].email+"",H=a[16].address+"",R=a[16].designation+"",L=a[16].phone+"",V=0==a[16].status&&q(a),$=1==a[16].status&&M(a);return{c:function(){t=i("tr"),r=i("td"),e=l(B),n=f(),s=i("td"),o=l(_),c=f(),E=i("td"),T=l(k),y=f(),I=i("td"),j=l(H),w=f(),x=i("td"),D=l(R),P=f(),S=i("td"),O=l(L),N=f(),U=i("td"),V&&V.c(),A=f(),$&&$.c()},l:function(a){t=u(a,"TR",{});var i=h(t);r=u(i,"TD",{});var l=h(r);e=d(l,B),l.forEach(v),n=p(i),s=u(i,"TD",{});var f=h(s);o=d(f,_),f.forEach(v),c=p(i),E=u(i,"TD",{});var m=h(E);T=d(m,k),m.forEach(v),y=p(i),I=u(i,"TD",{});var b=h(I);j=d(b,H),b.forEach(v),w=p(i),x=u(i,"TD",{});var g=h(x);D=d(g,R),g.forEach(v),P=p(i),S=u(i,"TD",{});var F=h(S);O=d(F,L),F.forEach(v),N=p(i),U=u(i,"TD",{});var C=h(U);V&&V.l(C),A=p(C),$&&$.l(C),C.forEach(v),i.forEach(v)},m:function(a,i){m(a,t,i),b(t,r),b(r,e),b(t,n),b(t,s),b(s,o),b(t,c),b(t,E),b(E,T),b(t,y),b(t,I),b(I,j),b(t,w),b(t,x),b(x,D),b(t,P),b(t,S),b(S,O),b(t,N),b(t,U),V&&V.m(U,null),b(U,A),$&&$.m(U,null)},p:function(a,t){4&t&&B!==(B=a[16].id+"")&&g(e,B),4&t&&_!==(_=a[16].fullname+"")&&g(o,_),4&t&&k!==(k=a[16].email+"")&&g(T,k),4&t&&H!==(H=a[16].address+"")&&g(j,H),4&t&&R!==(R=a[16].designation+"")&&g(D,R),4&t&&L!==(L=a[16].phone+"")&&g(O,L),0==a[16].status?V?V.p(a,t):((V=q(a)).c(),V.m(U,A)):V&&(V.d(1),V=null),1==a[16].status?$?$.p(a,t):(($=M(a)).c(),$.m(U,null)):$&&($.d(1),$=null)},d:function(a){a&&v(t),V&&V.d(),$&&$.d()}}}function K(a){for(var t,r,e,n,s,o,c,_,k,H,R,L,V,$,F,W,q,M,K,J,Q,X,Y,aa,ta,ra,ea,na,sa,oa,ca,ia,la,fa,ua,ha,da,va,pa,ma,ba,ga,Ea,Ta,ya,Ia,ja,wa,xa,Da,Pa,Sa,Oa,Na,Ua,Aa,Ba,_a,ka,Ha,Ra,La,Va,$a,Fa,Ca,Wa,za,qa,Ma,Ga,Ka,Za,Ja,Qa,Xa,Ya,at,tt,rt,et,nt,st,ot,ct=(a[1]-1)*Z+1+"",it=(a[1]-1)*Z+a[2].length+"",lt=a[0].length+"",ft=a[2],ut=[],ht=0;ht<ft.length;ht+=1)ut[ht]=G(z(a,ft,ht));var dt=new C({props:{totalItems:a[0].length,pageSize:Z,currentPage:a[1],limit:1,showStepOptions:!0}});return dt.$on("setPage",a[14]),{c:function(){t=i("link"),r=i("script"),e=f(),n=i("div"),s=i("div"),o=i("h3"),c=l("List of API Users"),_=f(),k=i("div"),H=i("button"),R=i("i"),L=f(),V=i("button"),$=i("i"),F=f(),W=i("div"),q=i("div"),M=i("div"),K=i("form"),J=i("b"),Q=l("SHOW"),X=f(),Y=i("select"),aa=i("option"),ta=l("10"),ra=i("option"),ea=l("20"),na=i("option"),sa=l("100"),oa=f(),ca=i("b"),ia=l("ENTRIES"),la=f(),fa=i("div"),ua=i("form"),ha=i("input"),da=f(),va=i("button"),pa=l("Search"),ma=f(),ba=i("br"),ga=i("br"),Ea=f(),Ta=i("div"),ya=i("table"),Ia=i("tr"),ja=i("th"),wa=l("ID"),xa=f(),Da=i("th"),Pa=l("Fullname"),Sa=f(),Oa=i("th"),Na=l("Email"),Ua=f(),Aa=i("th"),Ba=l("Address"),_a=f(),ka=i("th"),Ha=l("Designation"),Ra=f(),La=i("th"),Va=l("Phone"),$a=f(),Fa=i("th"),Ca=l("ACTIONS(Write Permission)"),Wa=f();for(var a=0;a<ut.length;a+=1)ut[a].c();za=f(),qa=i("div"),Ma=f(),Ga=i("div"),I(dt.$$.fragment),Ka=f(),Za=i("br"),Ja=i("p"),Qa=i("b"),Xa=l("Showing "),Ya=l(ct),at=l(" to "),tt=l(it),rt=l("  from total "),et=l(lt),nt=l(" Records."),this.h()},l:function(a){var i=j('[data-svelte="svelte-17iz5w9"]',document.head);t=u(i,"LINK",{rel:!0,href:!0}),r=u(i,"SCRIPT",{src:!0,integrity:!0,crossorigin:!0}),h(r).forEach(v),i.forEach(v),e=p(a),n=u(a,"DIV",{class:!0});var l=h(n);s=u(l,"DIV",{class:!0});var f=h(s);o=u(f,"H3",{class:!0});var m=h(o);c=d(m,"List of API Users"),m.forEach(v),_=p(f),k=u(f,"DIV",{class:!0});var b=h(k);H=u(b,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var g=h(H);R=u(g,"I",{class:!0}),h(R).forEach(v),g.forEach(v),L=p(b),V=u(b,"BUTTON",{type:!0,class:!0,"data-widget":!0,"data-toggle":!0,title:!0});var E=h(V);$=u(E,"I",{class:!0}),h($).forEach(v),E.forEach(v),b.forEach(v),f.forEach(v),F=p(l),W=u(l,"DIV",{id:!0,class:!0});var T=h(W);q=u(T,"DIV",{class:!0});var y=h(q);M=u(y,"DIV",{class:!0});var I=h(M);K=u(I,"FORM",{id:!0});var x=h(K);J=u(x,"B",{});var D=h(J);Q=d(D,"SHOW"),D.forEach(v),X=p(x),Y=u(x,"SELECT",{id:!0});var P=h(Y);aa=u(P,"OPTION",{value:!0});var S=h(aa);ta=d(S,"10"),S.forEach(v),ra=u(P,"OPTION",{value:!0});var O=h(ra);ea=d(O,"20"),O.forEach(v),na=u(P,"OPTION",{value:!0});var N=h(na);sa=d(N,"100"),N.forEach(v),P.forEach(v),oa=p(x),ca=u(x,"B",{});var U=h(ca);ia=d(U,"ENTRIES"),U.forEach(v),x.forEach(v),I.forEach(v),la=p(y),fa=u(y,"DIV",{style:!0});var A=h(fa);ua=u(A,"FORM",{id:!0,name:!0});var B=h(ua);ha=u(B,"INPUT",{id:!0,placeholder:!0,type:!0,name:!0}),da=p(B),va=u(B,"BUTTON",{type:!0,id:!0,name:!0});var C=h(va);pa=d(C,"Search"),C.forEach(v),B.forEach(v),A.forEach(v),ma=p(y),y.forEach(v),ba=u(T,"BR",{}),ga=u(T,"BR",{}),Ea=p(T),Ta=u(T,"DIV",{id:!0,class:!0});var z=h(Ta);ya=u(z,"TABLE",{id:!0,class:!0});var G=h(ya);Ia=u(G,"TR",{});var Z=h(Ia);ja=u(Z,"TH",{});var st=h(ja);wa=d(st,"ID"),st.forEach(v),xa=p(Z),Da=u(Z,"TH",{});var ot=h(Da);Pa=d(ot,"Fullname"),ot.forEach(v),Sa=p(Z),Oa=u(Z,"TH",{});var ft=h(Oa);Na=d(ft,"Email"),ft.forEach(v),Ua=p(Z),Aa=u(Z,"TH",{});var ht=h(Aa);Ba=d(ht,"Address"),ht.forEach(v),_a=p(Z),ka=u(Z,"TH",{});var vt=h(ka);Ha=d(vt,"Designation"),vt.forEach(v),Ra=p(Z),La=u(Z,"TH",{});var pt=h(La);Va=d(pt,"Phone"),pt.forEach(v),$a=p(Z),Fa=u(Z,"TH",{});var mt=h(Fa);Ca=d(mt,"ACTIONS(Write Permission)"),mt.forEach(v),Z.forEach(v),Wa=p(G);for(var bt=0;bt<ut.length;bt+=1)ut[bt].l(G);za=p(G),qa=u(G,"DIV",{id:!0}),h(qa).forEach(v),G.forEach(v),Ma=p(z),Ga=u(z,"DIV",{});var gt=h(Ga);w(dt.$$.fragment,gt),Ka=p(gt),gt.forEach(v),Za=u(z,"BR",{}),Ja=u(z,"P",{style:!0});var Et=h(Ja);Qa=u(Et,"B",{align:!0});var Tt=h(Qa);Xa=d(Tt,"Showing "),Ya=d(Tt,ct),at=d(Tt," to "),tt=d(Tt,it),rt=d(Tt,"  from total "),et=d(Tt,lt),nt=d(Tt," Records."),Tt.forEach(v),Et.forEach(v),z.forEach(v),T.forEach(v),l.forEach(v),this.h()},h:function(){document.title="API List",E(t,"rel","stylesheet"),E(t,"href","https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),r.src!=="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"&&E(r,"src","https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"),E(r,"integrity","sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"),E(r,"crossorigin","anonymous"),E(o,"class","box-title"),E(R,"class","fa fa-minus"),E(H,"type","button"),E(H,"class","btn btn-box-tool"),E(H,"data-widget","collapse"),E(H,"data-toggle","tooltip"),E(H,"title","Collapse"),E($,"class","fa fa-times"),E(V,"type","button"),E(V,"class","btn btn-box-tool"),E(V,"data-widget","remove"),E(V,"data-toggle","tooltip"),E(V,"title","Remove"),E(k,"class","box-tools pull-right"),E(s,"class","box-header with-border"),aa.__value="10",aa.value=aa.__value,ra.__value="20",ra.value=ra.__value,na.__value="100",na.value=na.__value,E(Y,"id","selectentry"),E(K,"id","tableform"),E(M,"class","pull-left"),E(ha,"id","searchfill"),E(ha,"placeholder"," search here"),E(ha,"type","text"),E(ha,"name","search"),E(va,"type","submit"),E(va,"id","searchbtn"),E(va,"name","submit"),E(ua,"id","srch"),E(ua,"name","srch"),x(fa,"float","right"),E(q,"class","mb10"),E(qa,"id","tab1"),E(ya,"id","admtype-table"),E(ya,"class","table table-striped table-bordered"),E(Qa,"align","center"),x(Ja,"text-align","center"),E(Ta,"id","showtable"),E(Ta,"class","box-body"),E(W,"id","table"),E(W,"class","box-body"),E(n,"class","box col-md-12")},m:function(i,l){b(document.head,t),b(document.head,r),m(i,e,l),m(i,n,l),b(n,s),b(s,o),b(o,c),b(s,_),b(s,k),b(k,H),b(H,R),b(k,L),b(k,V),b(V,$),b(n,F),b(n,W),b(W,q),b(q,M),b(M,K),b(K,J),b(J,Q),b(K,X),b(K,Y),b(Y,aa),b(aa,ta),b(Y,ra),b(ra,ea),b(Y,na),b(na,sa),b(K,oa),b(K,ca),b(ca,ia),b(q,la),b(q,fa),b(fa,ua),b(ua,ha),b(ua,da),b(ua,va),b(va,pa),b(q,ma),b(W,ba),b(W,ga),b(W,Ea),b(W,Ta),b(Ta,ya),b(ya,Ia),b(Ia,ja),b(ja,wa),b(Ia,xa),b(Ia,Da),b(Da,Pa),b(Ia,Sa),b(Ia,Oa),b(Oa,Na),b(Ia,Ua),b(Ia,Aa),b(Aa,Ba),b(Ia,_a),b(Ia,ka),b(ka,Ha),b(Ia,Ra),b(Ia,La),b(La,Va),b(Ia,$a),b(Ia,Fa),b(Fa,Ca),b(ya,Wa);for(var f=0;f<ut.length;f+=1)ut[f].m(ya,null);b(ya,za),b(ya,qa),b(Ta,Ma),b(Ta,Ga),D(dt,Ga,null),b(Ga,Ka),b(Ta,Za),b(Ta,Ja),b(Ja,Qa),b(Qa,Xa),b(Qa,Ya),b(Qa,at),b(Qa,tt),b(Qa,rt),b(Qa,et),b(Qa,nt),st=!0,ot=[T(Y,"change",P(a[3])),T(ua,"submit",P((function(){S(a[3]({currentPage:a[1]}))&&a[3]({currentPage:a[1]}).apply(this,arguments)}))),T(Ta,"click",a[15])]},p:function(t,r){var e=B(r,1)[0];if(a=t,52&e){var n;for(ft=a[2],n=0;n<ft.length;n+=1){var s=z(a,ft,n);ut[n]?ut[n].p(s,e):(ut[n]=G(s),ut[n].c(),ut[n].m(ya,za))}for(;n<ut.length;n+=1)ut[n].d(1);ut.length=ft.length}var o={};1&e&&(o.totalItems=a[0].length),2&e&&(o.currentPage=a[1]),dt.$set(o),(!st||2&e)&&ct!==(ct=(a[1]-1)*Z+1+"")&&g(Ya,ct),(!st||6&e)&&it!==(it=(a[1]-1)*Z+a[2].length+"")&&g(tt,it),(!st||1&e)&&lt!==(lt=a[0].length+"")&&g(et,lt)},i:function(a){st||(O(dt.$$.fragment,a),st=!0)},o:function(a){N(dt.$$.fragment,a),st=!1},d:function(a){v(t),v(r),a&&v(e),a&&v(n),U(ut,a),A(dt),y(ot)}}}var Z=10;function J(a,t,r){var e=F+"/health_registry/api_list",n=[],s=1,o=V.get("token");function c(){void 0!==o||window.location.replace(".")}function i(){var a=$("#searchfill").val()||"",t=($("#selectentry").val(),e+"/list?search="+a);_(k.mark((function a(){var e;return k.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H(t,o);case 2:if(200!=(e=a.sent).status){a.next=13;break}return a.next=6,e.json();case 6:u=a.sent,r(0,n=u),r(2,h=W({items:n,pageSize:Z,currentPage:s})),console.log(h),console.log(u),a.next=21;break;case 13:alert("session is expired please Login Again"),V.remove("token"),V.remove("username"),V.remove("role"),V.remove("province"),V.remove("district"),V.remove("municipality"),window.location.replace(".");case 21:case"end":return a.stop()}}),a)})))()}function l(a){if(confirm("Are you sure you want to Enable User for Write Permission?")){var t=e+"/enable/"+a;_(k.mark((function a(){var r;return k.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(t,{method:"PUT"});case 2:r=a.sent,console.log(r),200==r.status?R("User Enabled Successfully !"):L("Failed To Enable User."),i();case 6:case"end":return a.stop()}}),a)})))()}}function f(a){if(confirm("Are you sure you want to Disable User for Write Permission?")){var t=e+"/disable/"+a;_(k.mark((function a(){var r;return k.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(t,{method:"PUT"});case 2:r=a.sent,console.log(r),200==r.status?R("User Disabled Successfully !"):L("Failed To Disable USer."),i();case 6:case"end":return a.stop()}}),a)})))()}}c(),i();var u,h;return u=[],r(2,h=[]),[n,s,h,i,l,f,u,e,o,c,function(a,t){return l(a.id)},function(a,t){return f(a.id)},function(a,t){return l(a.id)},function(a,t){return f(a.id)},function(a){return r(1,s=a.detail.page)},function(){return i()}]}var Q=function(i){function l(a){var c;return t(this,l),c=r(this,e(l).call(this)),n(o(c),a,J,K,s,{}),c}return a(l,c),l}();export default Q;
