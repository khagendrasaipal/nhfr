import{a,b as s,c as r,d as e,i as o,s as t,e as i,S as n,f as c,g as l,t as m,G as d,h as f,j as u,l as p,m as v,k as h,I as g,o as y,p as E,q as b,r as I,K as j,u as w,L as x,n as D,A as V,B as T,M as $}from"./index.93415519.js";import"./slicedToArray.654f1255.js";import"./_commonjsHelpers.fffabd3b.js";import{_ as L,a as P}from"./asyncToGenerator.7c85ec32.js";import"./create.6718c41c.js";import{N as U,d as k}from"./index.d400a0a9.js";import"./app.f0eca3a7.js";import{C as B}from"./js.cookie.16c010e5.js";import"./jquery.d05c5983.js";import"./defineProperty.7798f63d.js";import{baseUrl as N}from"./fetchdata.59a14e41.js";import"./index.2c878162.js";import{p as A}from"./api.395cacab.js";function S(a){var s,r,e,o,t,i,n,L,P,k,B,N,A,S,q,G,H,M,O,_,C,F,K,R,z,J,Q,W,X,Y,Z,aa,sa,ra,ea,oa=new U({});return{c:function(){s=c("div"),r=c("div"),e=l(),o=c("div"),t=c("div"),i=c("div"),n=c("h3"),L=m("Sign in"),P=l(),k=c("form"),B=c("input"),N=l(),A=c("div"),S=c("div"),q=c("div"),G=c("label"),H=m("Username"),M=l(),O=c("input"),_=l(),C=c("div"),F=c("div"),K=c("label"),R=m("Password"),z=l(),J=c("input"),Q=l(),d(oa.$$.fragment),W=l(),X=c("div"),Y=c("button"),Z=m("Log In"),aa=l(),sa=c("div"),this.h()},l:function(a){s=f(a,"DIV",{class:!0,style:!0});var c=u(s);r=f(c,"DIV",{class:!0}),u(r).forEach(p),e=v(c),o=f(c,"DIV",{class:!0});var l=u(o);t=f(l,"DIV",{class:!0,style:!0});var m=u(t);i=f(m,"DIV",{class:!0});var d=u(i);n=f(d,"H3",{align:!0,class:!0});var y=u(n);L=h(y,"Sign in"),y.forEach(p),d.forEach(p),P=v(m),k=f(m,"FORM",{role:!0,id:!0});var E=u(k);B=f(E,"INPUT",{type:!0,value:!0,name:!0,id:!0}),N=v(E),A=f(E,"DIV",{class:!0});var b=u(A);S=f(b,"DIV",{class:!0});var I=u(S);q=f(I,"DIV",{});var j=u(q);G=f(j,"LABEL",{for:!0});var w=u(G);H=h(w,"Username"),w.forEach(p),j.forEach(p),M=v(I),O=f(I,"INPUT",{type:!0,name:!0,id:!0,class:!0,value:!0}),I.forEach(p),_=v(b),C=f(b,"DIV",{class:!0});var x=u(C);F=f(x,"DIV",{});var D=u(F);K=f(D,"LABEL",{for:!0});var V=u(K);R=h(V,"Password"),V.forEach(p),D.forEach(p),z=v(x),J=f(x,"INPUT",{type:!0,name:!0,id:!0,class:!0}),x.forEach(p),Q=v(b),g(oa.$$.fragment,b),W=v(b),X=f(b,"DIV",{class:!0,align:!0});var T=u(X);Y=f(T,"BUTTON",{type:!0,class:!0});var $=u(Y);Z=h($,"Log In"),$.forEach(p),T.forEach(p),b.forEach(p),E.forEach(p),m.forEach(p),l.forEach(p),aa=v(c),sa=f(c,"DIV",{class:!0}),u(sa).forEach(p),c.forEach(p),this.h()},h:function(){y(r,"class","col-md-4"),y(n,"align","center"),y(n,"class","box-title"),y(i,"class","box-header with-border"),y(B,"type","hidden"),B.value="",y(B,"name","id"),y(B,"id","id"),y(G,"for","exampleInputEmail1"),y(O,"type","text"),y(O,"name","email"),y(O,"id","email"),y(O,"class","form-control col-md-10"),O.value="",y(S,"class","form-group"),y(K,"for","exampleInputEmail1"),y(J,"type","password"),y(J,"name","password"),y(J,"id","password"),y(J,"class","form-control col-md-10"),y(C,"class","form-group"),y(Y,"type","submit"),y(Y,"class","btn btn-primary"),y(X,"class","box-footer"),y(X,"align","center"),y(A,"class","box-body"),y(k,"role","form"),y(k,"id","form"),y(t,"class","box box-primary col-md-9"),E(t,"background-color","#5cbbde"),y(o,"class","col-md-5"),y(sa,"class","col-md-4"),y(s,"class","row col-md-12"),E(s,"margin-top","100px")},m:function(c,l){b(c,s,l),I(s,r),I(s,e),I(s,o),I(o,t),I(t,i),I(i,n),I(n,L),I(t,P),I(t,k),I(k,B),I(k,N),I(k,A),I(A,S),I(S,q),I(q,G),I(G,H),I(S,M),I(S,O),I(A,_),I(A,C),I(C,F),I(F,K),I(K,R),I(C,z),I(C,J),I(A,Q),j(oa,A,null),I(A,W),I(A,X),I(X,Y),I(Y,Z),I(s,aa),I(s,sa),ra=!0,ea=w(k,"submit",x(a[0]))},p:D,i:function(a){ra||(V(oa.$$.fragment,a),ra=!0)},o:function(a){T(oa.$$.fragment,a),ra=!1},d:function(a){a&&p(s),$(oa),ea()}}}function q(a){var s=N+"/login/user";function r(){return(r=L(P.mark((function a(r){var e,o,t,i;return P.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=document.getElementById("email").value,o=document.getElementById("password").value,a.next=4,A(s,{email:e,password:o});case 4:t=a.sent,console.log(t),1==t.Status?(i=new Date((new Date).getTime()+3e7),B.set("uid",t.user.id),B.set("token",t.user.token,{expires:i}),B.set("username",t.user.username),B.set("role",t.user.role),B.set("province",t.user.province),B.set("district",t.user.district),B.set("municipality",t.user.municipality),B.set("orgid",t.user.orgid),window.location.replace(".")):k("Username and Password donot matched.");case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return[function(a){return r.apply(this,arguments)}]}var G=function(c){function l(a){var n;return s(this,l),n=r(this,e(l).call(this)),o(i(n),a,q,S,t,{}),n}return a(l,n),l}();export default G;
