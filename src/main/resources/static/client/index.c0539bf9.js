import{n as t,s,S as e,i as n,e as a,t as o,a as i,c,b as l,d as r,f as u,g as f,h as g,j as h,k as d,l as m,m as p,o as b,p as k,q as v,u as y,r as w,v as x,w as E,x as I,y as $}from"./index.e5c655c7.js";const j=[];function D(e,n=t){let a;const o=[];function i(t){if(s(e,t)&&(e=t,a)){const t=!j.length;for(let t=0;t<o.length;t+=1){const s=o[t];s[1](),j.push(s,e)}if(t){for(let t=0;t<j.length;t+=2)j[t][0](j[t+1]);j.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,c=t){const l=[s,c];return o.push(l),1===o.length&&(a=n(i)||t),s(e),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(a(),a=null)}}}}const L=D();function V(t,s,e){const n=t.slice();return n[8]=s[e],n}function q(t,s){let e,n,v,y,w,x,E,I,$,j=s[8].msg+"";function D(...t){return s[7](s[8],...t)}return{key:t,first:null,c(){e=a("li"),n=a("div"),v=o(j),y=i(),w=a("div"),x=i(),this.h()},l(t){e=c(t,"LI",{class:!0,style:!0});var s=l(e);n=c(s,"DIV",{class:!0});var a=l(n);v=r(a,j),a.forEach(u),y=f(s),w=c(s,"DIV",{class:!0,style:!0}),l(w).forEach(u),x=f(s),s.forEach(u),this.h()},h(){g(n,"class","content svelte-1ggskci"),g(w,"class","progress svelte-1ggskci"),h(w,"animation-duration",s[8].timeout+"ms"),g(e,"class","toast svelte-1ggskci"),h(e,"background",s[8].background),this.first=e},m(t,s){d(t,e,s),m(e,n),m(n,v),m(e,y),m(e,w),m(e,x),I=!0,$=p(w,"animationend",D)},p(t,n){s=t,(!I||1&n)&&j!==(j=s[8].msg+"")&&b(v,j),(!I||1&n)&&h(w,"animation-duration",s[8].timeout+"ms"),(!I||1&n)&&h(e,"background",s[8].background)},i(t){I||(E&&E.end(1),I=!0)},o(t){E=k(e,N,{}),I=!1},d(t){t&&u(e),t&&E&&E.end(),$()}}}function M(t){let s,e,n=[],o=new Map,i=t[0];const r=t=>t[8].id;for(let s=0;s<i.length;s+=1){let e=V(t,i,s),a=r(e);o.set(a,n[s]=q(a,e))}return{c(){s=a("ul");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){s=c(t,"UL",{class:!0});var e=l(s);for(let t=0;t<n.length;t+=1)n[t].l(e);e.forEach(u),this.h()},h(){g(s,"class","toasts svelte-1ggskci")},m(t,a){d(t,s,a);for(let t=0;t<n.length;t+=1)n[t].m(s,null);e=!0},p(t,[e]){const a=t[0];v(),n=y(n,e,r,1,t,a,o,s,$,q,null,V),w()},i(t){if(!e){for(let t=0;t<i.length;t+=1)x(n[t]);e=!0}},o(t){for(let t=0;t<n.length;t+=1)E(n[t]);e=!1},d(t){t&&u(s);for(let t=0;t<n.length;t+=1)n[t].d()}}}function N(t,{delay:s=0,duration:e=300}){return{delay:s,duration:e,css:t=>`opacity: ${1*(t-.5)}; transform-origin: top right; transform: scaleX(${1*(t-.5)});`}}function O(t,s,e){let n,{themes:a={danger:"#bb2124",success:"#22bb33",warning:"#f0ad4e",info:"#5bc0de",default:"#aaaaaa"}}=s,{timeout:o=3e3}=s,i=0,c=[];function l(t,s,n){const l=a[s]||a.default;e(0,c=[{id:i,msg:t,background:l,timeout:n||o,width:"100%"},...c]),i+=1}function r(t){e(0,c=c.filter(s=>s.id!=t))}n=L.subscribe(t=>{t&&(l(t.message,t.type,t.timeout),L.set())}),I(n);return t.$set=t=>{"themes"in t&&e(2,a=t.themes),"timeout"in t&&e(3,o=t.timeout)},[c,r,a,o,i,n,l,t=>r(t.id)]}class S extends e{constructor(t){super(),n(this,t,O,M,s,{themes:2,timeout:3})}}function U(t,s="default",e){L.set({type:s,message:t,timeout:e})}function X(t,s){U(t,"danger",s)}function z(t,s){U(t,"success",s)}export{S as N,X as d,z as s,D as w};
